<!DOCTYPE html><html lang="es"><head><meta charset="utf-8"><meta name="title" content="Posts sobre Linux | None"><meta name="description" content="None"><meta name="author" content="Martín Gaitán"><title>Posts sobre Linux | None </title><!-- Le styles --><link href="../assets/css/bootstrap.css" rel="stylesheet" type="text/css"><link href="../assets/css/bootstrap-responsive.css" rel="stylesheet" type="text/css"><link href="../assets/css/rst.css" rel="stylesheet" type="text/css"><link href="../assets/css/code.css" rel="stylesheet" type="text/css"><link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="../assets/css/theme.css" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:regular,italic" rel="stylesheet" type="text/css"><link href="../assets/css/custom.css" rel="stylesheet"><script src="../assets/js/jquery-1.7.2.min.js" type="text/javascript"></script><script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script src="../assets/js/jquery.timeago.js" type="text/javascript"></script><script src="../assets/js/jquery.timeago.es.js" type="text/javascript"></script><script>

            jQuery(document).ready(function() {
              jQuery("span.timeago").timeago();
            });

        </script><!-- Le HTML5 shim, for IE6-8 support of HTML5 elements --><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS for tag Linux (es)" href="linux.xml"></head><body>
<div class="container-fluid" id="container">
    <div class="row-fluid" id="titlerow">

    <div class="span10 offset1" id="titlecolumn">
    <!-- Banner-like substance !-->
        <div class="titlebox span3">
        <h1 id="blog-title">
            <a href="../">tin_nqn</a>
        </h1>
        <h6 id="blog-description">&gt;&gt;&gt; me.geek.post()</h6>

        
        
        
        </div>
    <div id="menu" class="span7 offset1">
      <ul class="inline"><li><a href="../about.html">Sobre mí</a>
                 / 
            
                </li><li><a href="../charlas.html">Charlas</a>
                 / 
            
                </li><li><a href="../archive.html">Archivos</a>
                 / 
            
                </li><li><a href="index.html">Categorías</a>
                 / 
            
                </li><li><a href="../rss.xml">RSS</a>
                
            
        </li></ul></div>
    <!-- End of banner-like substance !-->
    <div class="row" id="contentrow">
        <div class="span10 offset1" id="contentcolumn">
            <!--Body content-->
            
    
        <div class="postbox">
        <h1><a href="../posts/veinteanero.html">Veinteañero</a>
        <small>  
             <span class="timeago" title="2011-04-08 08:47:13+00:00">2011-04-08 08:47:13+00:00</span>
        </small></h1>
        <p>Suse 7.0 fue la primera distro Linux que mi gloriosa Pentium II cobijó.
Al tiempo usé Mandrake, después Debian y desde su primera versión (2004)
Ubuntu.</p>
<p>Un largo camino de aprendizaje... que alguna vez recorreré ;-)</p>
        <p>
        
            <a href="../posts/veinteanero.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/video-sis-771-671-en-ubuntu.html">Video SIS 771/671 en Ubuntu</a>
        <small>  
             <span class="timeago" title="2010-05-10 16:10:25+00:00">2010-05-10 16:10:25+00:00</span>
        </small></h1>
        <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 5); <em><a href="../posts/video-sis-771-671-en-ubuntu.html#id1">backlink</a></em></p>
Duplicate explicit target name: "este xorg.conf".</div>
<p>Esto es una ayuda memoria para mi yo dubitativo del futuro: para hacer
funcionar el video de la notebook que es <strong>SiS 671/771</strong> en <strong>Ubuntu</strong>
(a partir de la versión 9.10) instalar <a class="reference external" href="../posts/IMG/deb/xorg-driver-sis671_0-9_i386.deb">este
paquete</a> y [STRIKEOUT:<a class="reference external" href="../posts/IMG/bin/xorg.bin">este
xorg.conf</a>] <a class="reference external" href="../posts/IMG/bin/xorg-2.bin">este xorg.conf</a>.</p>
<p>Para pantalla dual con LCD externo a resolución full 1280x1024</p>
<pre class="literal-block">
# /etc/X11/xorg.conf (Xorg X Window System server configuration file)
#
# This file was generated by fll_xorgconfig, the F.U.L.L.S.T.O.R.Y.
# Xorg Configuration tool.
#
# Edit this file with caution, and see the xorg.conf(5) manual page.
# (Type "man xorg.conf" at the shell prompt.)
#
Section "ServerLayout"
    Identifier  "Xorg Configured"
    Screen      "Screen 0"
EndSection

#Section "ServerFlags"
#   Option      "AllowMouseOpenFail"    "true"
#   Option      "DontZap"       "false"
#EndSection

Section "Device"
    Identifier  "Device 0"
    Driver      "sis671"
    #Driver     "vesa"
    BoardName   "Silicon Integrated Systems [SiS] 771/671 PCIE VGA Display Adapter"
    Option      "EnableSisCtrl" "yes"
    Option      "DRI" "off"
    Option      "MergedFBAuto" "true"
    Option      "MergedNonRectangular" "on"
    Option      "Merged DPI" "100 100"
    Option      "MetaModes" "1280x1024-1280x800 640x460-640x460 1280x800-1280x1024"
    BusID       "PCI:1:0:0"
EndSection

Section "Monitor"
    Identifier  "Monitor 0"
    ModelName   "Default Monitor"
    HorizSync   28-96
    VertRefresh 50-75
    # 640x350 @ 85.00 Hz (GTF) hsync: 31.28 kHz; pclk: 25.02 MHz
    Modeline "640x350"  25.02  640 656 720 800  350 351 354 368  -HSync +Vsync
    # 640x400 @ 85.00 Hz (GTF) hsync: 35.78 kHz; pclk: 29.20 MHz
    Modeline "640x400"  29.20  640 664 728 816  400 401 404 421  -HSync +Vsync
    # 640x480 @ 60.00 Hz (GTF) hsync: 29.82 kHz; pclk: 23.86 MHz
    Modeline "640x480"  23.86  640 656 720 800  480 481 484 497  -HSync +Vsync
    # 640x480 @ 72.00 Hz (GTF) hsync: 36.07 kHz; pclk: 29.43 MHz
    Modeline "640x480"  29.43  640 664 728 816  480 481 484 501  -HSync +Vsync
    # 640x480 @ 75.00 Hz (GTF) hsync: 37.65 kHz; pclk: 30.72 MHz
    Modeline "640x480"  30.72  640 664 728 816  480 481 484 502  -HSync +Vsync
    # 640x480 @ 85.00 Hz (GTF) hsync: 42.92 kHz; pclk: 35.71 MHz
    Modeline "640x480"  35.71  640 672 736 832  480 481 484 505  -HSync +Vsync
    # 640x480 @ 100.00 Hz (GTF) hsync: 50.90 kHz; pclk: 43.16 MHz
    Modeline "640x480"  43.16  640 680 744 848  480 481 484 509  -HSync +Vsync
    # 720x400 @ 85.00 Hz (GTF) hsync: 35.78 kHz; pclk: 32.64 MHz
    Modeline "720x400"  32.64  720 744 816 912  400 401 404 421  -HSync +Vsync
    # 768x576 @ 60.00 Hz (GTF) hsync: 35.82 kHz; pclk: 34.96 MHz
    Modeline "768x576"  34.96  768 792 872 976  576 577 580 597  -HSync +Vsync
    # 768x576 @ 72.00 Hz (GTF) hsync: 43.27 kHz; pclk: 42.93 MHz
    Modeline "768x576"  42.93  768 800 880 992  576 577 580 601  -HSync +Vsync
    # 768x576 @ 75.00 Hz (GTF) hsync: 45.15 kHz; pclk: 45.51 MHz
    Modeline "768x576"  45.51  768 808 888 1008  576 577 580 602  -HSync +Vsync
    # 768x576 @ 85.00 Hz (GTF) hsync: 51.42 kHz; pclk: 51.84 MHz
    Modeline "768x576"  51.84  768 808 888 1008  576 577 580 605  -HSync +Vsync
    # 768x576 @ 100.00 Hz (GTF) hsync: 61.10 kHz; pclk: 62.57 MHz
    Modeline "768x576"  62.57  768 816 896 1024  576 577 580 611  -HSync +Vsync
    # 800x600 @ 56.00 Hz (GTF) hsync: 34.72 kHz; pclk: 35.55 MHz
    Modeline "800x600"  35.55  800 832 912 1024  600 601 604 620  -HSync +Vsync
    # 800x600 @ 60.00 Hz (GTF) hsync: 37.32 kHz; pclk: 38.22 MHz
    Modeline "800x600"  38.22  800 832 912 1024  600 601 604 622  -HSync +Vsync
    # 800x600 @ 72.00 Hz (GTF) hsync: 45.07 kHz; pclk: 46.87 MHz
    Modeline "800x600"  46.87  800 840 920 1040  600 601 604 626  -HSync +Vsync
    # 800x600 @ 75.00 Hz (GTF) hsync: 47.02 kHz; pclk: 48.91 MHz
    Modeline "800x600"  48.91  800 840 920 1040  600 601 604 627  -HSync +Vsync
    # 800x600 @ 85.00 Hz (GTF) hsync: 53.55 kHz; pclk: 56.55 MHz
    Modeline "800x600"  56.55  800 840 928 1056  600 601 604 630  -HSync +Vsync
    # 800x600 @ 100.00 Hz (GTF) hsync: 63.60 kHz; pclk: 68.18 MHz
    Modeline "800x600"  68.18  800 848 936 1072  600 601 604 636  -HSync +Vsync
    # 1024x600 @ 60.00 Hz (GTF) hsync: 37.32 kHz; pclk: 48.96 MHz
    Modeline "1024x600"  48.96  1024 1064 1168 1312  600 601 604 622  -HSync +Vsync
    # 1024x768 @ 60.00 Hz (GTF) hsync: 47.70 kHz; pclk: 64.11 MHz
    Modeline "1024x768"  64.11  1024 1080 1184 1344  768 769 772 795  -HSync +Vsync
    # 1024x768 @ 70.00 Hz (GTF) hsync: 56.00 kHz; pclk: 76.16 MHz
    Modeline "1024x768"  76.16  1024 1080 1192 1360  768 769 772 800  -HSync +Vsync
    # 1024x768 @ 75.00 Hz (GTF) hsync: 60.15 kHz; pclk: 81.80 MHz
    Modeline "1024x768"  81.80  1024 1080 1192 1360  768 769 772 802  -HSync +Vsync
    # 1024x768 @ 85.00 Hz (GTF) hsync: 68.60 kHz; pclk: 94.39 MHz
    Modeline "1024x768"  94.39  1024 1088 1200 1376  768 769 772 807  -HSync +Vsync
    # 1024x768 @ 100.00 Hz (GTF) hsync: 81.40 kHz; pclk: 113.31 MHz
    Modeline "1024x768"  113.31  1024 1096 1208 1392  768 769 772 814  -HSync +Vsync
    # 1152x864 @ 75.00 Hz (GTF) hsync: 67.65 kHz; pclk: 104.99 MHz
    Modeline "1152x864"  104.99  1152 1224 1352 1552  864 865 868 902  -HSync +Vsync
    # 1152x864 @ 60.00 Hz (GTF) hsync: 53.70 kHz; pclk: 81.62 MHz
    Modeline "1152x864"  81.62  1152 1216 1336 1520  864 865 868 895  -HSync +Vsync
    # 1152x864 @ 85.00 Hz (GTF) hsync: 77.10 kHz; pclk: 119.65 MHz
    Modeline "1152x864"  119.65  1152 1224 1352 1552  864 865 868 907  -HSync +Vsync
    # 1152x864 @ 100.00 Hz (GTF) hsync: 91.50 kHz; pclk: 143.47 MHz
    Modeline "1152x864"  143.47  1152 1232 1360 1568  864 865 868 915  -HSync +Vsync
    # 1152x900 @ 77.00 Hz (GTF) hsync: 72.46 kHz; pclk: 112.45 MHz
    Modeline "1152x900"  112.45  1152 1224 1352 1552  900 901 904 941  -HSync +Vsync
    # 1152x900 @ 66.00 Hz (GTF) hsync: 61.71 kHz; pclk: 94.79 MHz
    Modeline "1152x900"  94.79  1152 1224 1344 1536  900 901 904 935  -HSync +Vsync
    # 1280x768 @ 60.00 Hz (GTF) hsync: 47.70 kHz; pclk: 80.14 MHz
    Modeline "1280x768"  80.14  1280 1344 1480 1680  768 769 772 795  -HSync +Vsync
    # 1280x800 @ 60.00 Hz (GTF) hsync: 49.68 kHz; pclk: 83.46 MHz
    Modeline "1280x800"  83.46  1280 1344 1480 1680  800 801 804 828  -HSync +Vsync
    # 1280x960 @ 60.00 Hz (GTF) hsync: 59.64 kHz; pclk: 102.10 MHzx
    Modeline "1280x960"  102.10  1280 1360 1496 1712  960 961 964 994  -HSync +Vsync
    # 1280x960 @ 72.00 Hz (GTF) hsync: 72.07 kHz; pclk: 124.54 MHz
    Modeline "1280x960"  124.54  1280 1368 1504 1728  960 961 964 1001  -HSync +Vsync
    # 1280x960 @ 75.00 Hz (GTF) hsync: 75.15 kHz; pclk: 129.86 MHz
    Modeline "1280x960"  129.86  1280 1368 1504 1728  960 961 964 1002  -HSync +Vsync
    # 1280x960 @ 85.00 Hz (GTF) hsync: 85.68 kHz; pclk: 149.43 MHz
    Modeline "1280x960"  149.43  1280 1376 1512 1744  960 961 964 1008  -HSync +Vsync
    # 1280x960 @ 100.00 Hz (GTF) hsync: 101.70 kHz; pclk: 178.99 MHz
    Modeline "1280x960"  178.99  1280 1376 1520 1760  960 961 964 1017  -HSync +Vsync
    # 1280x1024 @ 60.00 Hz (GTF) hsync: 63.60 kHz; pclk: 108.88 MHz
    Modeline "1280x1024"  108.88  1280 1360 1496 1712  1024 1025 1028 1060  -HSync +Vsync
    # 1280x1024 @ 67.00 Hz (GTF) hsync: 71.29 kHz; pclk: 123.19 MHz
    Modeline "1280x1024"  123.19  1280 1368 1504 1728  1024 1025 1028 1064  -HSync +Vsync
    # 1280x1024 @ 75.00 Hz (GTF) hsync: 80.17 kHz; pclk: 138.54 MHz
    Modeline "1280x1024"  138.54  1280 1368 1504 1728  1024 1025 1028 1069  -HSync +Vsync
    # 1280x1024 @ 76.00 Hz (GTF) hsync: 81.32 kHz; pclk: 141.82 MHz
    Modeline "1280x1024"  141.82  1280 1376 1512 1744  1024 1025 1028 1070  -HSync +Vsync
    # 1280x1024 @ 85.00 Hz (GTF) hsync: 91.38 kHz; pclk: 159.36 MHz
    Modeline "1280x1024"  159.36  1280 1376 1512 1744  1024 1025 1028 1075  -HSync +Vsync
    # 1280x1024 @ 100.00 Hz (GTF) hsync: 108.50 kHz; pclk: 190.96 MHz
    Modeline "1280x1024"  190.96  1280 1376 1520 1760  1024 1025 1028 1085  -HSync +Vsync
    # 1368x768 @ 60.00 Hz (GTF) hsync: 47.70 kHz; pclk: 85.86 MHz
    Modeline "1368x768"  85.86  1368 1440 1584 1800  768 769 772 795  -HSync +Vsync
    # 1440x900 @ 60.00 Hz (GTF) hsync: 55.92 kHz; pclk: 106.47 MHz
    Modeline "1440x900"  106.47  1440 1520 1672 1904  900 901 904 932  -HSync +Vsync
    # 1400x1050 @ 60.00 Hz (GTF) hsync: 65.22 kHz; pclk: 122.61 MHz
    Modeline "1400x1050"  122.61  1400 1488 1640 1880  1050 1051 1054 1087  -HSync +Vsync
    # 1400x1050 @ 72.00 Hz (GTF) hsync: 78.77 kHz; pclk: 149.34 MHz
    Modeline "1400x1050"  149.34  1400 1496 1648 1896  1050 1051 1054 1094  -HSync +Vsync
    # 1400x1050 @ 75.00 Hz (GTF) hsync: 82.20 kHz; pclk: 155.85 MHz
    Modeline "1400x1050"  155.85  1400 1496 1648 1896  1050 1051 1054 1096  -HSync +Vsync
    # 1400x1050 @ 85.00 Hz (GTF) hsync: 93.76 kHz; pclk: 179.26 MHz
    Modeline "1400x1050"  179.26  1400 1504 1656 1912  1050 1051 1054 1103  -HSync +Vsync
    # 1400x1050 @ 100.00 Hz (GTF) hsync: 111.20 kHz; pclk: 214.39 MHz
    Modeline "1400x1050"  214.39  1400 1512 1664 1928  1050 1051 1054 1112  -HSync +Vsync
    # 1440x900 @ 60.00 Hz (GTF) hsync: 55.92 kHz; pclk: 106.47 MHz
    Modeline "1440x900"  106.47  1440 1520 1672 1904  900 901 904 932  -HSync +Vsync
    # 1600x1200 @ 60.00 Hz (GTF) hsync: 74.52 kHz; pclk: 160.96 MHz
    Modeline "1600x1200"  160.96  1600 1704 1880 2160  1200 1201 1204 1242  -HSync +Vsync
    # 1600x1200 @ 65.00 Hz (GTF) hsync: 80.99 kHz; pclk: 176.23 MHz
    Modeline "1600x1200"  176.23  1600 1712 1888 2176  1200 1201 1204 1246  -HSync +Vsync
    # 1600x1200 @ 70.00 Hz (GTF) hsync: 87.43 kHz; pclk: 190.25 MHz
    Modeline "1600x1200"  190.25  1600 1712 1888 2176  1200 1201 1204 1249  -HSync +Vsync
    # 1600x1200 @ 75.00 Hz (GTF) hsync: 93.97 kHz; pclk: 205.99 MHz
    Modeline "1600x1200"  205.99  1600 1720 1896 2192  1200 1201 1204 1253  -HSync +Vsync
    # 1600x1200 @ 85.00 Hz (GTF) hsync: 107.10 kHz; pclk: 234.76 MHz
    Modeline "1600x1200"  234.76  1600 1720 1896 2192  1200 1201 1204 1260  -HSync +Vsync
    # 1600x1200 @ 100.00 Hz (GTF) hsync: 127.10 kHz; pclk: 280.64 MHz
    Modeline "1600x1200"  280.64  1600 1728 1904 2208  1200 1201 1204 1271  -HSync +Vsync
    # 1680x1050 @ 60.00 Hz (GTF) hsync: 65.22 kHz; pclk: 147.14 MHz
    Modeline "1680x1050"  147.14  1680 1784 1968 2256  1050 1051 1054 1087  -HSync +Vsync
    # 1792x1344 @ 60.00 Hz (GTF) hsync: 83.46 kHz; pclk: 202.97 MHz
    Modeline "1792x1344"  202.97  1792 1920 2112 2432  1344 1345 1348 1391  -HSync +Vsync
    # 1792x1344 @ 75.00 Hz (GTF) hsync: 105.23 kHz; pclk: 259.27 MHz
    Modeline "1792x1344"  259.27  1792 1928 2128 2464  1344 1345 1348 1403  -HSync +Vsync
    # 1856x1392 @ 60.00 Hz (GTF) hsync: 86.46 kHz; pclk: 218.57 MHz
    Modeline "1856x1392"  218.57  1856 1992 2192 2528  1392 1393 1396 1441  -HSync +Vsync
    # 1856x1392 @ 75.00 Hz (GTF) hsync: 108.97 kHz; pclk: 277.23 MHz
    Modeline "1856x1392"  277.23  1856 2000 2200 2544  1392 1393 1396 1453  -HSync +Vsync
    # 1920x1200 @ 60.00 Hz (GTF) hsync: 74.52 kHz; pclk: 193.16 MHz
    Modeline "1920x1200"  193.16  1920 2048 2256 2592  1200 1201 1204 1242  -HSync +Vsync
    # 1920x1440 @ 60.00 Hz (GTF) hsync: 89.40 kHz; pclk: 234.59 MHz
    Modeline "1920x1440"  234.59  1920 2064 2272 2624  1440 1441 1444 1490  -HSync +Vsync
    # 1920x1440 @ 75.00 Hz (GTF) hsync: 112.73 kHz; pclk: 297.59 MHz
    Modeline "1920x1440"  297.59  1920 2072 2280 2640  1440 1441 1444 1503  -HSync +Vsync
EndSection

Section "Screen"
    Identifier  "Screen 0"
    Monitor     "Monitor 0"
    DefaultColorDepth 24
    SubSection "Display"
        Depth   24
        Modes   "1200x800"
    EndSubSection
EndSection

Section "Extensions"
    Option  "Composite" "off"
</pre>
        <p>
        
            <a href="../posts/video-sis-771-671-en-ubuntu.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/deja-que-el-servidor-trabaje-por.html">Deja que el servidor trabaje por tí con GNU Screen</a>
        <small>  
             <span class="timeago" title="2009-10-19 20:33:31+00:00">2009-10-19 20:33:31+00:00</span>
        </small></h1>
        <p>Ya somos avispados usuarios de la línea de comandos y hacemos nuestros
pinitos administrando un servidor: movemos, bajamos y hasta compilamos
directamente en una maquina remota, muchas veces más potente y con más
ancho de banda que la nuestra.</p>
<p>Nuestra terminal cliente sólo ejecuta
<a class="reference external" href="http://www.openssh.com/">OpenSSH</a> (o
<a class="reference external" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Putty</a>
en Windows)</p>
<p>Pero cuando se trata de ejecutar un proceso largo y de nula
interactividad no tiene mucho sentido seguir conectados ¿Para qué gastar
tiempo y recursos (dejar la PC cliente prendida, por ejemplo) si el
trabajo sólo se hace en el servidor?</p>
<p>Este caso se da muchas veces, sobre todo (y aquí lo que me interesa)
cuando bajamos archivos muy pesados o hacer un mirror de un repositorio
completo.</p>
<p>Y aquí cómo resolverlo: usa <a class="reference external" href="http://es.wikipedia.org/wiki/GNU_Screen">GNU
Screen</a>.</p>
<p>Screen es un multiplexor/virtualizador de terminales, y entre sus muchas
e interesantes características incluye el desacople de su proceso padre.</p>
<p>Esto significa que se puede ejecutar una terminal virtual con screen (en
una terminal remota por ssh, por ejemplo), ejecutar cualquier proceso en
ese entorno y desacoplarlo, pudiendo entonces desloguearse y cerrar la
conexión remota dejando el proceso en curso.</p>
<p><strong>Receta paso a paso</strong></p>
<ul><li><p class="first">ejecuta una consola virtual con screen</p>
<pre class="literal-block">
$ screen
</pre>
</li>
<li><p class="first">Ejecuta tu proceso largo. Por ejemplo, bajar la beta de Ubuntu Karmic
Koala en DVD</p>
<pre class="literal-block">
$ wget http://mirror.mcs.anl.gov/pub/ubuntu-iso/DVDs/ubuntu/9.10/beta/ubuntu-9.10-beta-dvd-i386.iso
</pre>
</li>
<li><p class="first">Desacoplar el proceso con la combinación de teclas <strong>Control+A D</strong></p>
</li>
<li><p class="first">Desconectarse, tomar unos mates y volver cuando quieras</p>
</li>
</ul><p>Para retomar el proceso</p>
<ul><li><p class="first">Conectarnos de nuevo al servidor mediante SSH</p>
</li>
<li><p class="first">Listar las consolas virtuales para averiguar el PID</p>
<pre class="literal-block">
$ screen -list
</pre>
</li>
<li><p class="first">Traer a primer plano el proceso en cuestión con</p>
<pre class="literal-block">
$ screen -r PID
</pre>
</li>
</ul><p>y allí estará el proceso que dejamos corriendo (o al menos los rastros
que dejó en su paso).</p>
        <p>
        
            <a href="../posts/deja-que-el-servidor-trabaje-por.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/digitalizando-recuerdos-con.html">Digitalizando recuerdos con mencoder</a>
        <small>  
             <span class="timeago" title="2009-09-30 14:56:40+00:00">2009-09-30 14:56:40+00:00</span>
        </small></h1>
        <p>Para el Mundial del 2006, compré, como tantos otros que no tenían
televisor pero sí computadora, una plaquita sintonizadora de TV: una
Kozumi con el chip sintonizador BT878, uno de los más genéricos y
bastante bien soportado en linux.</p>
<p>Tuvo poca utilidad en aquel 2006, primero porque argentina no duró
demasiado y segundo y principal porque un vecino reclamó potestad sobre
la señal del cable coaxil que alimentaba mi chip y mis ilusiones
mundialistas.</p>
<p>Quedó cajoneada en algun rincón, hasta que rescaté del olvido la
videofilmadora de la familia, una vieja y noble JVC , con un montón de
casetitos Compact VHS (que es el formato con el que funciona).</p>
<p>Así que después de mucho patear la tarea, decidí conectar los cables y
encontrar la forma de convertir en bytes los recuerdos archivados en
esos casettes polvorientos.</p>
<div class="section" id="lo-que-hice">
<h2>Lo que hice</h2>
<p>Primero, configurar la placa. El chip bt878 se usa en muchísimas
sintonizadoras que tienen configuraciones diferentes. Para asignarle los
correctos, se pasa un código <tt class="docutils literal">card</tt> que se obtiene de <a class="reference external" href="http://www.mjmwired.net/kernel/Documentation/video4linux/CARDLIST.bttv">esta
lista</a>.
En mi caso, para una Kozumi ktv-01c, el código es 151. El comando
completo con el que configuro el módulo es:</p>
<pre class="literal-block">
sudo modprobe bttv card=151 pll=1 tuner=38 radio=1 bttv_verbose=1 gbuffers=4
</pre>
<p>Luego, el supercomando mencoder:</p>
<pre class="literal-block">
mencoder tv:// -tv driver=v4l2:device=/dev/video0:input=1:width=480:height=360:norm=ntsc:alsa:adevice=hw.0:amode=1:audiorate=44100:forceaudio:forcechan=1:buffersize=300 -oac mp3lame -lameopts cbr:br=96:mode=3 -af volume=-6:0,channels=1 -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=5000:keyint=125:mbd=2 -vf yadif,crop=464:352:8:2  -o salida.avi
</pre>
<p>Algunos detalles:</p>
<p><img alt="-" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"><a class="reference external" href="tv://">tv://</a> indica que se va a capturar video, y se le pasan paramétros
luego del flag -tv: driver <strong>v4l2</strong>, un tamaño de 480x360 (aunque
después se recorta), preconfigurado para ntsc (29.97 fps).
<img alt="image1" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"> Un aspecto importante son los flags referidos al audio: se
captura el audio <strong>alsa</strong>, indicando la placa de sonido, el modo y la
calidad (mono a 44100hz de ancho de banda)
<img alt="image2" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"> El audio se comprime con <strong>lame</strong> a mp3 de 96kps constante.
<img alt="image3" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"> con <strong>-af volume</strong> le bajo el volumen 6db, porque de otra
manera me salía saturado (estoy capturando desde el microfono). El
parametro <strong>forceraudio</strong> fuerza la captura aunque la entrada esté
silenciada en la mezcladora. También se fuerza a grabar un solo canal
con <strong>forcechan=1</strong>.
<img alt="image4" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"> Con -ovc lavc se usa <strong>libavcodec</strong> (ffmpeg), comprimiendo en
mpeg4 a un bitrate de 5000.
<img alt="image5" src="../posts/local/cache-vignettes/L8xH11/puce-32883.gif"> Se aplican 2 filtros de video al vuelo: <strong>yadif</strong> que es el
mejor filtro desentralazador (necesario para captura analógica) y un
<strong>crop</strong> que recorta 8 pixeles de los costados, 2 de arriba y 6 de
abajo, para evitar la distorción que producen los cabezales con las
cintas viejas.</p>
<p>El resultado es un video de unos 250kb/s de calidad más que aceptable.</p>
<p>Por ejemplo, el casamiento de mi hermano Juan, en 1998:</p>
</div>
        <p>
        
            <a href="../posts/digitalizando-recuerdos-con.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/ultima-version-de-spip-por-svn.html">Ultima versión de Spip por SVN</a>
        <small>  
             <span class="timeago" title="2009-05-22 00:19:54+00:00">2009-05-22 00:19:54+00:00</span>
        </small></h1>
        <p>Como sabemos, el desarrollo de SPIP se realiza a través del sistema de
control de versiones Subversion.</p>
<p>A través de Subversion, podemos obtener la ultima version de desarrollo
considerada estable</p>
<pre class="literal-block">
svn checkout svn://trac.rezo.net/spip/branches/spip-2.0/  carpeta_destino
</pre>
<p>Una de las ventajas de obtener SPIP a través de SVN, es que luego es muy
fácil de actualizar.</p>
<pre class="literal-block">
cd  carpeta_destino
svn update
</pre>
<p>Subversion asigna un numero de revision a cada cambio realizado al
conjunto de archivos. Así, cuando los desarrolladores lo evaluan
pertinente, en un determinado momento del desarrollo se empaqueta una
nueva version "oficial"</p>
<p>Por ejemplo, la revisión
<a class="reference external" href="http://trac.rezo.net/trac/spip/browser/branches/spip-2.0?rev=13982">13982</a>
es la version 2.08 de Spip.</p>
<p>Podemos obtener una revision específica con el parámetro -r. Por
ejemplo, el siguiente comando obtendría una copia de SPIP 2.08</p>
<pre class="literal-block">
svn -r 13982 checkout svn://trac.rezo.net/spip/branches/spip-2.0/  carpeta_destino
</pre>
<p>Genial, pero para para asegurarnos estar en una revision que se
corresponda con una "version oficial" tenemos que saber el número de ID.</p>
<p>En el <a class="reference external" href="http://trac.rezo.net/trac/spip/wiki">Trac de Spip</a> se mantiene
una tabla donde se especifica esta correspondencia para cada nueva
version, pero a decir verdad, es un engorro tener que ingresar sólo para
averiguar un número. Mejor hagámoslo automático!</p>
<div class="section" id="automatizando-la-obtencion-de-un-spip-oficial-por-svn">
<h2>Automatizando la obtención de un SPIP oficial por SVN</h2>
<pre class="literal-block">
#!/bin/bash
#script para una instalacion de spip a traves de svn

if [ $# -lt 1 ]
then
echo "Debe indicar al menos un parametro:"
echo "$0 destino [rev]"
echo
exit 1
fi


if [ $# -eq 2 ]
then
REV=$2
else
echo "Averiguando revision de la ultima release..."
REV=$(svn info svn://trac.rezo.net/spip/archivelist.txt | sed -n '9p' | cut -d' ' -f5)
fi


echo "Recuperando la version $REV de SPIP"
svn checkout -r `echo $REV` svn://trac.rezo.net/spip/branches/spip-2.0/ $1 1&gt;/dev/null
echo "Configurando permisos..."
cd $1
chmod 657 IMG local tmp config
echo "Lanzando el navegador para continuar la instalacion..."
firefox http://localhost/~tin/$1/ecrire
</pre>
<p>Este script hace el trabajo aburrido por nosotros. Averigua cuál fue la
última modificación de <em>archivelist.txt</em> que es un archivo que se
modifica en cada nuevo lanzamiento de paquete. ¡Es el dato que nos hacía
falta!</p>
</div>
<div class="section" id="una-solucion-mas-genuina">
<h2>Una solución más genuina</h2>
<p><strong>Atención</strong>: Ya me hicieron caso. <a class="reference external" href="../blog/article/ultima-version-de-spip-por-svn#update">Ver
actualización</a></p>
<p>Aunque el hacking (como este) es sano y divertido (y a veces también
útil), la solución más genuina sería que los desarrolladores de SPIP
mantengan un <strong>tag</strong> por cada nuevo empaquetamiento y uno que apunte
siempre al último.</p>
<p>Por ejemplo, con el siguiente comando deberiamos obtener la version 2.05
(sin saber a qué numero de revision corresponde)</p>
<pre class="literal-block">
svn checkout svn://trac.rezo.net/spip/tags/2.05
</pre>
<p>y con este otro obtener la <strong>última</strong> versión</p>
<pre class="literal-block">
svn checkout svn://trac.rezo.net/spip/tags/lastest-version
</pre>
<p>Esto, por ahora, no está implementado, pero ya hice llegar mi propuesta
a <em>l’equipe</em> de SPIP, y <a class="reference external" href="http://article.gmane.org/gmane.comp.web.spip.devel/53503">lo están
discutiendo</a></p>
</div>
<div class="section" id="actualizacion">
<h2>Actualización</h2>
<p>Gracias a <a class="reference external" href="http://my.opera.com/tech-nova/blog/">Gilles</a> el Dev Team
adoptó mi propuesta y ahora existen Tags en el arbol SVN de spip. En
particular,</p>
<pre class="literal-block">
svn co svn://trac.rezo.net/spip/tags/spip-2-stable
</pre>
</div>
        <p>
        
            <a href="../posts/ultima-version-de-spip-por-svn.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/piccola-radiolina.html">Piccola Radiolina</a>
        <small>  
             <span class="timeago" title="2009-04-19 14:14:39+00:00">2009-04-19 14:14:39+00:00</span>
        </small></h1>
        <p><a class="reference external" href="http://code.google.com/p/radiolina/">Radiolina</a> es a mi jornada
laboral lo que la Spika a la de mi abuelo, en aquellas mañanas de viñas
mendocinas.</p>
<p>Es un simple script <a class="reference external" href="http://es.wikipedia.org/wiki/bash">bash</a> que se
vale del mágico <a class="reference external" href="http://www.mplayerhq.hu">mplayer</a> para reproducir las
radios más importantes de argentina (y otras mejores que esas).</p>
<p>Para bajar y empezar a disfrutar Radiolina puedes ejecutar los
siguientes comandos desde tu consola.</p>
<pre class="literal-block">
wget http://radiolina.googlecode.com/svn/trunk/radiolina
chmod +x radiolina
./radiolina
</pre>
<p>Como frecuentemente lo actualizo, te recomiendo que utilices SVN para
bajar el programa. En vez de la primer linea (<em>wget...</em>) utilizar</p>
<pre class="literal-block">
svn checkout https://radiolina.googlecode.com/svn/trunk/ ./
</pre>
        <p>
        
            <a href="../posts/piccola-radiolina.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/backup-selectivo-de-tablas-mysql.html">Backup selectivo de tablas Mysql</a>
        <small>  
             <span class="timeago" title="2009-03-31 09:37:49+00:00">2009-03-31 09:37:49+00:00</span>
        </small></h1>
        <p>Un comando muy práctico para hacer backups de una base de datos MySQL es
<em>mysqldump</em>.</p>
<pre class="literal-block">
mysqldump -h SERVIDOR -u USUARIO -pPASSWORD base_de_datos &gt; backup.sql
</pre>
<p>Eso hace un backup completo de la base <em>base_de_datos</em> (incluyendo la
creación de todas las tablas.</p>
<p>Para restaurar ese backup se hace directamente inyectando el sql al
interprete de mysql.</p>
<pre class="literal-block">
mysql -h SERVIDOR -u USUARIO -pPASSWORD base_de_datos
</pre>
<div class="section" id="respaldar-solo-algunas-tablas-de-la-base">
<h2>Respaldar sólo algunas tablas de la base</h2>
<p>A menudo tenemos multiples sistemas instalados sobre la misma base de
datos, Si sólo queremos respaldar algunas tablas bastaría enumerar las
tablas luego del nombre de la base de datos</p>
<pre class="literal-block">
mysqldump -h SERVIDOR -u USUARIO -pPASSWORD base_de_datos  tabla1 tabla2 &gt; backup.sql
</pre>
<p>Pero si estas tablas son muchas, es engorroso definirlas una por una.
Por suerte, en general, un prefijo asocia todas las tablas de un
sistema.</p>
<p>En ese caso, se puede usar el siguiente compando que respalda todas las
tablas con un prefijo, En este ejemplo, las que comienzan con "spip_":</p>
<pre class="literal-block">
mysql -h SERVIDOR -u USUARIO -pPASSWORD base_de_datos  -e 'show tables like "spip_%"' | grep -v Tables_in | xargs mysqldump -h SERVIDOR -u USUARIO -pPASSWORD base_de_datos &gt; backup.sql
</pre>
</div>
        <p>
        
            <a href="../posts/backup-selectivo-de-tablas-mysql.html#disqus_thread">Comments</a>
        
        </p></div>
    
        <div class="postbox">
        <h1><a href="../posts/auto-podcast.html">Auto Podcast</a>
        <small>  
             <span class="timeago" title="2009-03-21 12:53:03+00:00">2009-03-21 12:53:03+00:00</span>
        </small></h1>
        <p><a class="reference external" href="http://www.efectotabano.com.ar">Efecto Tábano</a> es el programa radial
de mi amigo Fernando Barraza. Objetivamente, uno de los mejores
programas radiales de Argentina.</p>
<p>Lamentablemente, desde que me vine a Córdoba tuve que conformarme con
los fragmentos de entrevistas o especiales que Fernando subía a la web.
Pero ahora que la <a class="reference external" href="http://fm1037online.com/">Radio Calf-UNC</a> está
online, la alegría está completa.</p>
<p>El único problema que queda es que no todos los días tengo el tiempo de
escucharlo de 16 a 18hs, Necesitaba grabarlo para escucharlo offline.</p>
<p>Bien podría haber hecho esto localmente pero como al sitio lo administro
yo, dije... ¿por qué no grabar el programa directamente desde el
servidor, y que cualquiera pueda bajarlo cuando quiera?</p>
<p>Aquí está mi podcaster automático para Efecto Tábano.</p>
<div class="section" id="la-idea">
<h2>La idea</h2>
<p>Todo se basa en el glorioso <a class="reference external" href="http://mplayerhq.hu">Mplayer</a>, Mplayer es
capaz de reproducir casi cualquier formato en streaming.</p>
<p>Por supuesto, no habrá sonido en esa "reproducción" sobre el servidor,
pero lo que queremos es la info para grabarla.</p>
<p>En vez de enviarla a la placa de sonidos, la información cruda (el
sonido WAV) lo enviamos a un archivo fifo desde donde
<a class="reference external" href="http://lame.sourceforge.net/">lame</a> obtendrá su fuente de datos para
comprimir a MP3 <em>on the fly</em>.</p>
<p>Todo esto, claro, se ejecutará al horario del programa (y durante el
tiempo que se indique, en este caso casi 2 horas) mediante una tarea
<a class="reference external" href="http://es.wikipedia.org/wiki/Cron_(Unix)">cron</a></p>
</div>
<div class="section" id="instalando-lo-necesario">
<h2>Instalando lo necesario</h2>
<p>Como anticipé, hace falta mplayer y lame. Estos programas en general no
se encuentran en el servidor (por ejemplo
<a class="reference external" href="http://www.dreamhost.com/r.cgi?150740">Dreamhost</a>) así que hay que
instalarlos. Como tampoco somos root (la gran mayoría de las veces)
habrá que compilarlos desde las fuentes e instalarlos a nivel usuario.</p>
<p>primero crear, si no existiése, un directorio /bin donde irán nuestros
programas.</p>
<pre class="literal-block">
mkdir bin
chmod 775 bin
</pre>
<p><strong>Mplayer y mencoder</strong></p>
<pre class="literal-block">
wget http://www3.mplayerhq.hu/MPlayer/releases/codecs/essential-20061022.tar.bz2
bunzip2 essential-20061022.tar.bz2
tar -xf essential-20061022.tar
mv essential-20061022 $HOME/lib
wget http://www3.mplayerhq.hu/MPlayer/releases/MPlayer-1.0rc1.tar.bz2
bunzip2 MPlayer-1.0rc1.tar.bz2
tar -xf MPlayer-1.0rc1.tar
cd MPlayer-1.0rc1
./configure --prefix=$HOME --codecsdir=$HOME/lib/essential-20061022
make
make install
</pre>
<p><strong>LAME</strong></p>
<pre class="literal-block">
wget http://nchc.dl.sourceforge.net/sourceforge/lame/lame-3.97.tar.gz
tar -zxvf lame-3.97.tar.gz
cd lame-3.97
./configure "--prefix=$HOME" "--enable-shared"
make
make install
</pre>
<p>Con eso ya tendríamos los programas necesarios en <strong>./bin</strong></p>
</div>
<div class="section" id="el-script-podcaster-efectotabano-sh">
<h2>El script podcaster-efectotabano.sh</h2>
<pre class="literal-block">
#!/bin/sh
#
# recorder — wrapper to pull remote audio stream and convert contents
# to mp3

# Path and arguments to lame (mp3 encoder)
lame="$HOME/bin/lame -S -b 32 -m m"

# Path and arguments to mplayer (stream decoder)
mplayer="$HOME/bin/mplayer -quiet"

# Where to put the output files
odir="$HOME/efectotabano.com.ar/podcast"

showname="efectotabano-`date +%Y-%m-%d`"
duration="6660"
url="http://78.159.108.83:8690/"

fifo="${showname}_fifo"
ofile="$odir/${showname}.mp3"

#- end config ----------------------------------------------------

mkfifo $fifo
$lame $fifo $ofile &amp;
$mplayer  -vc null -vo null -ao pcm:file=$fifo $url &amp;

sleep 5
pids=`ps auxww | grep $fifo | awk '{print $duration}'`

sleep `echo ${duration} | bc`

kill $pids
rm $fifo
</pre>
<p>La primera parte permite configurar las rutas y parámetros de los
programas a usar, así como el formato y destino del mp3 de salida.</p>
<p>En este caso los parámetros de lame indican que se grabará a 32kbps en
mono.</p>
<p>Los mp3 de salida irán a <a class="reference external" href="http://www.efectotabano.com.ar/podcast/">este
destino</a></p>
<p>Este script se ejecuta de lunes a viernes a las 12:09 hora del servidor
(16:09 en argentina) y durante 6660 segundo, de modo que termina
tentativamente junto con la finalización del programa.</p>
<p>Para configurar la tarea en cron ejecutar <strong>crontab -e</strong>. La tarea a
agregar luce así:</p>
<pre class="literal-block">
09 12 * * 1-5 ~/bin/podcaster-efectotabano.sh
</pre>
<p>Eso es todo. Todos los días, de lunes a viernes tendré mi programa para
descargar.</p>
</div>
<div class="section" id="to-do">
<h2>TO DO</h2>
<p>Por supuesto, para que esto sea un
<a class="reference external" href="http://es.wikipedia.org/wiki/podcast">podcast</a> le falta la
sindicación. Por lo tanto, habría que agregar la tarea de injectar
información pertinente en una base de datos del cual generar el XML de
sindicación.</p>
</div>
        <p>
        
            <a href="../posts/auto-podcast.html#disqus_thread">Comments</a>
        
        </p></div>
    
    <div>
<ul class="pager"></ul></div>
    
        <script type="text/javascript"> var disqus_shortname = 'nqnwebs'; (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = 'http://' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script><!--End of body content--><hr><small>Contents © 2013 Martín Gaitán</small>
        </div>
    </div>
    <div class="row">
        <div class="span10 offset1" id="sidebar">
            <!--Sidebar content-->
            <ul class="inline"><li><a href="http://www.textosypretextos.com.ar" title="Mi otro blog">Textos y pretextos</a>
                    /
                </li><li><a href="http://nikola.ralsina.com.ar">Powered by Nikola</a>
                /
            </li><li> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
                        <img alt="Licencia Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/80x15.png"></a>
            </li></ul><!--End of sidebar content--></div>
    
    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script></div></div></div></div></body></html>