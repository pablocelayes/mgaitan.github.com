<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Mostrar u ocultar contenido, fácil | tin_nqn  </title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../en/rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../rss.xml">
<link rel="canonical" href="http://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><script src="../assets/js/jquery.min.js"></script><meta name="author" content="Martín Gaitán">
<meta name="og:title" content="Mostrar u ocultar contenido, fácil">
<meta name="og:url" content="http://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil.html">
<meta name="og:description" content="Adrian León consultó en la lista
spip-es:

Estoy intentado poner balizas de este tipo:
#BOUTON_BLOCK
#DEBUT_BLOCK
Desde el editor del sitio privado en el texto de un artículo. No
conozco la forma de q">
<meta name="og:site_name" content="tin_nqn">
<meta name="og:type" content="article">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator:id" content="40654511">
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-static-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://mgaitan.github.io/">

                <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
                </div>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
<li>
<a href="../about.html">Sobre mí</a>
                </li>
<li>
<a href="../charlas.html">Charlas</a>
                </li>
<li>
<a href="../archive.html">Archivos</a>
                </li>
<li>
<a href="../categories/index.html">Categorías</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>            </li>
<li><a href="../en/index.html" rel="alternate" hreflang="en">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">

            <div class="col-md-offset-2 col-md-8">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Mostrar u ocultar contenido, fácil</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2009-02-26T06:12:34-02:00" itemprop="datePublished" title="Fecha de publicación: 26/02/09 06:12:34">26/02/09 06:12:34</time></a></p>
                <p class="commentline">            <a href="mostrar-u-ocultar-contenido-facil.html#disqus_thread" data-disqus-identifier="cache/posts/mostrar-u-ocultar-contenido-facil.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Adrian León consultó en la lista
<a class="reference external" href="http://listes.rezo.net/mailman/listinfo/spip-es">spip-es</a>:</p>
<blockquote>
<p>Estoy intentado poner balizas de este tipo:</p>
<p>#BOUTON_BLOCK</p>
<p>#DEBUT_BLOCK</p>
<p>Desde el editor del sitio privado en el texto de un artículo. No
conozco la forma de que funcione desde ahí (sale escrito como texto
en la página resultante. ¿Hay alguna manera de hacerlo?</p>
</blockquote>
<p>Estaba intentando, me enteré después, usar <a class="reference external" href="http://www.spip-contrib.net/Block-deplier-replier">este
plugin</a></p>
<p>Al otro día yo contesté:</p>
<blockquote>
<p>Hola Adrián. Desconocía de qué hablabas hasta que Marina mandó el
link. Me parece que en el algunas ocasiones los plugins están
opacando las soluciones más eficientes e ingeniosas, esas que
buscabamos antes de que todo fuese "enchufable". <strong>¡Spip se está
wordpressisando!</strong></p>
<p>Lo que quiero decir es que me parece que hay formas mejores de hacer
eso. Yo tengo <a class="reference external" href="http://www.lavozdelanzarote.com/Carlos-Espino-cree-que-los">un ejemplo para
darte</a></p>
<p>Andá al pie del artículo, y hacé click en Opinar: despliega (u
oculta, depende del estado) el formulario de comentarios.</p>
<p>Es, sin balizas ni plugins, lo que parece que hace esa contrib.</p>
</blockquote>
<p>Y el código es de risa: un pelín de jQuery (con su efecto
<a class="reference external" href="http://docs.jquery.com/Effects/toggle">toggle()</a> )</p>
<p>El <a class="reference external" href="http://www.lavozdelanzarote.com/squelettes/inc_article.html">esqueleto del ejemplo que
propongo</a>
es bien sencillo. El formulario aparece encerrado en una <tt class="docutils literal">div</tt> y
escondido con la propiedad CSS <tt class="docutils literal">display:none</tt>. De manera simplificada
[<a class="reference external" href="../blog/article/mostrar-u-ocultar-contenido-facil#nb1">1</a>] :</p>
<pre class="literal-block">
[(#FORMULAIRE_FORUM)]
</pre>
<p>Y el link que produce el efecto mostrar/ocultar (en este caso «opinar»
)tiene este código.</p>
<pre class="literal-block">
Opinar
</pre>
<p>En perfecto argentino se diría: ¡una papa!</p>
<p>Breve explicación: Al hacer click sobre el link, se ejecuta el evento
Onclick, que mendiante jQuery (que ya se encuentra en todo sitio SPIP si
existe la baliza #INSERT_HEAD en el <tt class="docutils literal">&lt;head&gt;</tt> de los esqueletos), se
busca la el bloque con ID «form-comment» (o sea, el <tt class="docutils literal">div</tt> contenedor
del formulario), y se aplica <tt class="docutils literal">toggle()</tt>, que es una funcion que si el
bloque está oculto, lo muestra, y se está visible lo oculta. Simple y
efectivo.</p>
<div class="section" id="permitiendo-el-uso-desde-la-redaccion">
<h2>Permitiendo el uso desde la redacción</h2>
<p>Hasta aquí el reemplazo al plugin, que no da una solución completa a la
consulta de Adrían, porque esta solución también está programado en los
esqueletos del sitio. Pero, con simples modificaciones, se puede usar
dentro del texto de los artículos.</p>
<p>El truco es este: la balizas no se pueden usar en el texto, pero <strong>los
modelos</strong> sí. Y como spip respeta el HTML, tenemos solución: generamo el
link interruptor a través de <a class="reference external" href="http://www.spip.net/es_article3609.html">un
modelo</a>
[<a class="reference external" href="../blog/article/mostrar-u-ocultar-contenido-facil#nb2">2</a>].</p>
<p>Creamos un modelo dentro de <em>modeles/toggle.html</em> (dentro de la carpeta
de nuestros esqueletos) con el siguiente código:</p>
<pre class="literal-block">
#ENV{texto}
</pre>
<p>¡Y listo!</p>
<p>Para usarlo, en el cuerpo del artículo se invocaría al modelo con dos
parámetros: el identificador del contenedor, y el texto de link
controlador.</p>
<p>Donde se quiera mostrar el link escribimos:</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 95)</p>
Literal block expected; none found.</div>
<p>y donde queramos que vaya el contenido oculto:</p>
<pre class="literal-block">
Hola amigos, esto es una astucia para el compañero Adrian!
&lt;/div&gt;
</pre>
<p>Sólo hay que asegurarse de que el ID del contenedor sea el mismo que el
parametro <em>div</em> que pasamos a nuestro modelo. Por supuesto, esto permite
tener múltiples bloques ocultos y link controladores.</p>
</div>
<div class="section" id="el-resultado">
<h2>El resultado</h2>
<p><a class="reference external" href="../blog/article/mostrar-u-ocultar-contenido-facil#oculto">esto
funciona?</a></p>
<p>¡Hola amigos, esto es una astucia para el compañero Adrian!</p>
</div>
    </div>



   <hr>
<div class="ps">
            <div class="metadata posttranslations translations">
            <h3 class="posttranslations-intro">También disponible en:</h3>
        </div>

    <p>El código de este artículo está disponible en  <a href="https://github.com/mgaitan/mgaitan.github.com/blob/writing/posts/mostrar-u-ocultar-contenido-facil.rst" id="sourcelink">github</a>. ¿Encontraste un error? Por favor,  <a href="https://github.com/mgaitan/mgaitan.github.com/edit/writing/posts/mostrar-u-ocultar-contenido-facil.rst" id="sourcelink">enviame un pull request</a>.</p>
    </div>

    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/jquery.html" rel="tag">jQuery</a></li>
           <li><a class="tag p-category" href="../categories/spip.html" rel="tag">spip</a></li>
        </ul>
<ul class="pager">
<li class="previous">
                <a href="yahoo-pipes-como-por-un-tubo.html" rel="prev" title="Yahoo! Pipes como por un tubo">Post anterior</a>
            </li>
            <li class="next">
                <a href="suscribirse-a-los-comentarios-por.html" rel="next" title="Suscribirse a los comentarios por RSS">Siguiente post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>Comentarios</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nqnwebs",
            disqus_url="http://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil.html",
        disqus_title="Mostrar u ocultar contenido, f\u00e1cil",
        disqus_identifier="cache/posts/mostrar-u-ocultar-contenido-facil.html",
        disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer>
                Contents © 2014         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>
                
            </footer>
</div>
        </div>
        <!--End of body content-->


    </div>
</div>

            <script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script src="../assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script>
</body>
</html>
