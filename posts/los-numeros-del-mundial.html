<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Los números del Mundial | tin_nqn  </title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../en/rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../rss.xml">
<link rel="canonical" href="http://mgaitan.github.io/posts/los-numeros-del-mundial.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><script src="../assets/js/jquery.min.js"></script><meta name="author" content="Martín Gaitán">
<meta name="og:title" content="Los números del Mundial">
<meta name="og:url" content="http://mgaitan.github.io/posts/los-numeros-del-mundial.html">
<meta name="og:description" content="In [1]:


    
!rm db.sqlite










In [1]:


    
%load_ext django_orm_magic










In [2]:


    
%%django_orm
from django.db import models

class Country(models.Model):
    name = models.Char">
<meta name="og:site_name" content="tin_nqn">
<meta name="og:type" content="article">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator:id" content="40654511">
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-static-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://mgaitan.github.io/">

                <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
                </div>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
<li>
<a href="../about.html">Sobre mí</a>
                </li>
<li>
<a href="../charlas.html">Charlas</a>
                </li>
<li>
<a href="../archive.html">Archivos</a>
                </li>
<li>
<a href="../categories/index.html">Categorías</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>            </li>
<li><a href="../en/index.html" rel="alternate" hreflang="en">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">

            <div class="col-md-offset-2 col-md-8">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Los números del Mundial</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2014-05-21T14:27:23-03:00" itemprop="datePublished" title="Fecha de publicación: 21/05/14 14:27:23">21/05/14 14:27:23</time></a></p>
                <p class="commentline">            <a href="los-numeros-del-mundial.html#disqus_thread" data-disqus-identifier="cache/posts/los-numeros-del-mundial.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="o">!</span>rm db.sqlite
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="o">%</span><span class="k">load_ext</span> <span class="n">django_orm_magic</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [2]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="o">%%</span><span class="k">django_orm</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Country</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="s">"100"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    
<span class="k">class</span> <span class="nc">City</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'Country'</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="s">"100"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"{0}, {1}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">country</span><span class="p">)</span> 
    
<span class="k">class</span> <span class="nc">Team</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'Country'</span><span class="p">)</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="s">"100"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">unicode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Club</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="s">"100"</span><span class="p">)</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'Country'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    
<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">full_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">date_of_birth</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>    
    <span class="n">team</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'Team'</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="n">place_of_birth</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'City'</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FloatField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">current_club</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s">'Club'</span><span class="p">)</span>
    <span class="n">last_season_apps</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">last_season_goals</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">national_team_apps</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">national_team_goals</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    
    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_name</span>
    
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [4]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyquery</span> <span class="kn">import</span> <span class="n">PyQuery</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">Image</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pq</span> <span class="o">=</span> <span class="n">PyQuery</span><span class="p">(</span><span class="s">'http://en.wikipedia.org/wiki/2014_FIFA_World_Cup_squads'</span><span class="p">)</span>
<span class="n">pq</span><span class="o">.</span><span class="n">make_links_absolute</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[5]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[&lt;html.client-nojs&gt;]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">brazil</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="s">'table:first'</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">brazil</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[6]:</div>

<div class="output_html rendered_html output_subarea output_pyout">
<tr>
<td bgcolor="#FFFFFF" valign="top" width="90%">
<table class="sortable" border="0" cellspacing="2" cellpadding="2" width="100%">
<tr bgcolor="#AAD0FF">
<th width="6%">No.</th>
<th width="6%">Pos.</th>
<th width="30%">Player</th>
<th width="22%">DoB/Age</th>
<th width="6%">Caps</th>
<th width="30%">Club</th>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">1</span><a href="http://en.wikipedia.org/wiki/Goalkeeper_(association_football)" title="Goalkeeper (association football)">GK</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/J%C3%BAlio_C%C3%A9sar_Soares_Esp%C3%ADndola" title="Júlio César Soares Espíndola">Júlio César</a></td>
<td>
<span style="display:none">(<span class="bday">1979-09-03</span>)</span>3 September 1979 (aged 34)</td>
<td style="text-align: center;">78</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Canada" title="Canada"><img alt="Canada" src="//upload.wikimedia.org/wikipedia/en/thumb/c/cf/Flag_of_Canada.svg/23px-Flag_of_Canada.svg.png" width="23" height="12" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/c/cf/Flag_of_Canada.svg/35px-Flag_of_Canada.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/c/cf/Flag_of_Canada.svg/46px-Flag_of_Canada.svg.png 2x" data-file-width="1000" data-file-height="500"></a></span> <a href="http://en.wikipedia.org/wiki/Toronto_FC" title="Toronto FC">Toronto FC</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">1</span><a href="http://en.wikipedia.org/wiki/Goalkeeper_(association_football)" title="Goalkeeper (association football)">GK</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Jefferson_de_Oliveira_Galv%C3%A3o" title="Jefferson de Oliveira Galvão">Jefferson</a></td>
<td>
<span style="display:none">(<span class="bday">1983-01-02</span>)</span>2 January 1983 (aged 31)</td>
<td style="text-align: center;">9</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Brazil" title="Brazil"><img alt="Brazil" src="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png" width="22" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/33px-Flag_of_Brazil.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/43px-Flag_of_Brazil.svg.png 2x" data-file-width="720" data-file-height="504"></a></span> <a href="http://en.wikipedia.org/wiki/Botafogo_de_Futebol_e_Regatas" title="Botafogo de Futebol e Regatas">Botafogo</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">1</span><a href="http://en.wikipedia.org/wiki/Goalkeeper_(association_football)" title="Goalkeeper (association football)">GK</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Victor_Leandro_Bagy" title="Victor Leandro Bagy">Victor</a></td>
<td>
<span style="display:none">(<span class="bday">1983-01-21</span>)</span>21 January 1983 (aged 31)</td>
<td style="text-align: center;">6</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Brazil" title="Brazil"><img alt="Brazil" src="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png" width="22" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/33px-Flag_of_Brazil.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/43px-Flag_of_Brazil.svg.png 2x" data-file-width="720" data-file-height="504"></a></span> <a href="http://en.wikipedia.org/wiki/Clube_Atl%C3%A9tico_Mineiro" title="Clube Atlético Mineiro">Atlético Mineiro</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Daniel_Alves" title="Daniel Alves" class="mw-redirect">Daniel Alves</a></td>
<td>
<span style="display:none">(<span class="bday">1983-05-06</span>)</span>6 May 1983 (aged 31)</td>
<td style="text-align: center;">73</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Spain" title="Spain"><img alt="Spain" src="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/23px-Flag_of_Spain.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/35px-Flag_of_Spain.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/45px-Flag_of_Spain.svg.png 2x" data-file-width="750" data-file-height="500"></a></span> <a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Maicon_Sisenando" title="Maicon Sisenando">Maicon</a></td>
<td>
<span style="display:none">(<span class="bday">1981-07-26</span>)</span>26 July 1981 (aged 32)</td>
<td style="text-align: center;">70</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Italy" title="Italy"><img alt="Italy" src="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/23px-Flag_of_Italy.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/35px-Flag_of_Italy.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/45px-Flag_of_Italy.svg.png 2x" data-file-width="1500" data-file-height="1000"></a></span> <a href="http://en.wikipedia.org/wiki/A.S._Roma" title="A.S. Roma">Roma</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td>
<a href="http://en.wikipedia.org/wiki/Thiago_Silva" title="Thiago Silva">Thiago Silva</a> <i>(<a href="http://en.wikipedia.org/wiki/Captain_(association_football)" title="Captain (association football)">captain</a>)</i>
</td>
<td>
<span style="display:none">(<span class="bday">1984-09-22</span>)</span>22 September 1984 (aged 29)</td>
<td style="text-align: center;">45</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/France" title="France"><img alt="France" src="//upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/23px-Flag_of_France.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/35px-Flag_of_France.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/45px-Flag_of_France.svg.png 2x" data-file-width="900" data-file-height="600"></a></span> <a href="http://en.wikipedia.org/wiki/Paris_Saint-Germain_F.C." title="Paris Saint-Germain F.C.">Paris Saint-Germain</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/David_Luiz" title="David Luiz">David Luiz</a></td>
<td>
<span style="display:none">(<span class="bday">1987-04-22</span>)</span>22 April 1987 (aged 27)</td>
<td style="text-align: center;">34</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Marcelo_Vieira" title="Marcelo Vieira">Marcelo</a></td>
<td>
<span style="display:none">(<span class="bday">1988-05-12</span>)</span>12 May 1988 (aged 26)</td>
<td style="text-align: center;">29</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Spain" title="Spain"><img alt="Spain" src="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/23px-Flag_of_Spain.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/35px-Flag_of_Spain.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/45px-Flag_of_Spain.svg.png 2x" data-file-width="750" data-file-height="500"></a></span> <a href="http://en.wikipedia.org/wiki/Real_Madrid_C.F." title="Real Madrid C.F.">Real Madrid</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Dante_(footballer)" title="Dante (footballer)">Dante</a></td>
<td>
<span style="display:none">(<span class="bday">1983-10-18</span>)</span>18 October 1983 (aged 30)</td>
<td style="text-align: center;">11</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Germany" title="Germany"><img alt="Germany" src="//upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/23px-Flag_of_Germany.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/35px-Flag_of_Germany.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/46px-Flag_of_Germany.svg.png 2x" data-file-width="1000" data-file-height="600"></a></span> <a href="http://en.wikipedia.org/wiki/FC_Bayern_Munich" title="FC Bayern Munich">Bayern Munich</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Maxwell_Cabelino_Andrade" title="Maxwell Cabelino Andrade">Maxwell</a></td>
<td>
<span style="display:none">(<span class="bday">1981-08-27</span>)</span>27 August 1981 (aged 32)</td>
<td style="text-align: center;">7</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/France" title="France"><img alt="France" src="//upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/23px-Flag_of_France.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/35px-Flag_of_France.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/45px-Flag_of_France.svg.png 2x" data-file-width="900" data-file-height="600"></a></span> <a href="http://en.wikipedia.org/wiki/Paris_Saint-Germain_F.C." title="Paris Saint-Germain F.C.">Paris Saint-Germain</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">2</span><a href="http://en.wikipedia.org/wiki/Defender_(association_football)" title="Defender (association football)">DF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Henrique_Adriano_Buss" title="Henrique Adriano Buss">Henrique</a></td>
<td>
<span style="display:none">(<span class="bday">1986-10-14</span>)</span>14 October 1986 (aged 27)</td>
<td style="text-align: center;">4</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Italy" title="Italy"><img alt="Italy" src="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/23px-Flag_of_Italy.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/35px-Flag_of_Italy.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/45px-Flag_of_Italy.svg.png 2x" data-file-width="1500" data-file-height="1000"></a></span> <a href="http://en.wikipedia.org/wiki/S.S.C._Napoli" title="S.S.C. Napoli">Napoli</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Ramires" title="Ramires">Ramires</a></td>
<td>
<span style="display:none">(<span class="bday">1987-03-24</span>)</span>24 March 1987 (aged 27)</td>
<td style="text-align: center;">41</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Oscar_(footballer_born_1991)" title="Oscar (footballer born 1991)" class="mw-redirect">Oscar</a></td>
<td>
<span style="display:none">(<span class="bday">1991-09-09</span>)</span>9 September 1991 (aged 22)</td>
<td style="text-align: center;">29</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Paulinho_(footballer)" title="Paulinho (footballer)">Paulinho</a></td>
<td>
<span style="display:none">(<span class="bday">1988-07-25</span>)</span>25 July 1988 (aged 25)</td>
<td style="text-align: center;">25</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Tottenham_Hotspur_F.C." title="Tottenham Hotspur F.C.">Tottenham Hotspur</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Hernanes" title="Hernanes">Hernanes</a></td>
<td>
<span style="display:none">(<span class="bday">1985-05-29</span>)</span>29 May 1985 (aged 29)</td>
<td style="text-align: center;">23</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Italy" title="Italy"><img alt="Italy" src="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/23px-Flag_of_Italy.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/35px-Flag_of_Italy.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/45px-Flag_of_Italy.svg.png 2x" data-file-width="1500" data-file-height="1000"></a></span> <a href="http://en.wikipedia.org/wiki/Inter_Milan" title="Inter Milan">Internazionale</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Luiz_Gustavo" title="Luiz Gustavo">Luiz Gustavo</a></td>
<td>
<span style="display:none">(<span class="bday">1987-07-23</span>)</span>23 July 1987 (aged 26)</td>
<td style="text-align: center;">17</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Germany" title="Germany"><img alt="Germany" src="//upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/23px-Flag_of_Germany.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/35px-Flag_of_Germany.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/46px-Flag_of_Germany.svg.png 2x" data-file-width="1000" data-file-height="600"></a></span> <a href="http://en.wikipedia.org/wiki/VfL_Wolfsburg" title="VfL Wolfsburg">VfL Wolfsburg</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Bernard_(footballer)" title="Bernard (footballer)">Bernard</a></td>
<td>
<span style="display:none">(<span class="bday">1992-09-08</span>)</span>8 September 1992 (aged 21)</td>
<td style="text-align: center;">10</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Ukraine" title="Ukraine"><img alt="Ukraine" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/23px-Flag_of_Ukraine.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/35px-Flag_of_Ukraine.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/45px-Flag_of_Ukraine.svg.png 2x" data-file-width="1200" data-file-height="800"></a></span> <a href="http://en.wikipedia.org/wiki/FC_Shakhtar_Donetsk" title="FC Shakhtar Donetsk">Shakhtar Donetsk</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Fernando_Luiz_Roza" title="Fernando Luiz Roza">Fernandinho</a></td>
<td>
<span style="display:none">(<span class="bday">1985-05-04</span>)</span>4 May 1985 (aged 29)</td>
<td style="text-align: center;">6</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Manchester_City_F.C." title="Manchester City F.C.">Manchester City</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">3</span><a href="http://en.wikipedia.org/wiki/Midfielder" title="Midfielder">MF</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Willian_Borges_da_Silva" title="Willian Borges da Silva">Willian</a></td>
<td>
<span style="display:none">(<span class="bday">1988-08-09</span>)</span>9 August 1988 (aged 25)</td>
<td style="text-align: center;">5</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/England" title="England"><img alt="England" src="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/23px-Flag_of_England.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/35px-Flag_of_England.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/b/be/Flag_of_England.svg/46px-Flag_of_England.svg.png 2x" data-file-width="800" data-file-height="480"></a></span> <a href="http://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">4</span><a href="http://en.wikipedia.org/wiki/Forward_(association_football)" title="Forward (association football)">FW</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Neymar" title="Neymar">Neymar</a></td>
<td>
<span style="display:none">(<span class="bday">1992-02-05</span>)</span>5 February 1992 (aged 22)</td>
<td style="text-align: center;">47</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Spain" title="Spain"><img alt="Spain" src="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/23px-Flag_of_Spain.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/35px-Flag_of_Spain.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/9/9a/Flag_of_Spain.svg/45px-Flag_of_Spain.svg.png 2x" data-file-width="750" data-file-height="500"></a></span> <a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">4</span><a href="http://en.wikipedia.org/wiki/Forward_(association_football)" title="Forward (association football)">FW</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Hulk_(footballer)" title="Hulk (footballer)">Hulk</a></td>
<td>
<span style="display:none">(<span class="bday">1986-07-25</span>)</span>25 July 1986 (aged 27)</td>
<td style="text-align: center;">33</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Russia" title="Russia"><img alt="Russia" src="//upload.wikimedia.org/wikipedia/en/thumb/f/f3/Flag_of_Russia.svg/23px-Flag_of_Russia.svg.png" width="23" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/f/f3/Flag_of_Russia.svg/35px-Flag_of_Russia.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/f/f3/Flag_of_Russia.svg/45px-Flag_of_Russia.svg.png 2x" data-file-width="900" data-file-height="600"></a></span> <a href="http://en.wikipedia.org/wiki/FC_Zenit_Saint_Petersburg" title="FC Zenit Saint Petersburg">Zenit Saint Petersburg</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">4</span><a href="http://en.wikipedia.org/wiki/Forward_(association_football)" title="Forward (association football)">FW</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Fred_(footballer)" title="Fred (footballer)">Fred</a></td>
<td>
<span style="display:none">(<span class="bday">1983-10-03</span>)</span>3 October 1983 (aged 30)</td>
<td style="text-align: center;">31</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Brazil" title="Brazil"><img alt="Brazil" src="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png" width="22" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/33px-Flag_of_Brazil.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/43px-Flag_of_Brazil.svg.png 2x" data-file-width="720" data-file-height="504"></a></span> <a href="http://en.wikipedia.org/wiki/Fluminense_Football_Club" title="Fluminense Football Club" class="mw-redirect">Fluminense</a>
</td>
</tr>
<tr>
<td style="text-align: right;">–</td>
<td style="text-align: center;">
<span style="display:none">4</span><a href="http://en.wikipedia.org/wiki/Forward_(association_football)" title="Forward (association football)">FW</a>
</td>
<td><a href="http://en.wikipedia.org/wiki/Jo%C3%A3o_Alves_de_Assis_Silva" title="João Alves de Assis Silva" class="mw-redirect">Jô</a></td>
<td>
<span style="display:none">(<span class="bday">1987-03-20</span>)</span>20 March 1987 (aged 27)</td>
<td style="text-align: center;">15</td>
<td>
<span class="flagicon"><a href="http://en.wikipedia.org/wiki/Brazil" title="Brazil"><img alt="Brazil" src="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png" width="22" height="15" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/33px-Flag_of_Brazil.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/43px-Flag_of_Brazil.svg.png 2x" data-file-width="720" data-file-height="504"></a></span> <a href="http://en.wikipedia.org/wiki/Atl%C3%A9tico_Mineiro" title="Atlético Mineiro" class="mw-redirect">Atlético Mineiro</a>
</td>
</tr>
</table>
</td>
</tr>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [7]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">parse_squad</span><span class="p">(</span><span class="n">squad</span><span class="p">,</span> <span class="n">group</span><span class="p">):</span>
    <span class="n">country</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Country</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">pq</span><span class="p">(</span><span class="n">squad</span><span class="p">)</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
    <span class="k">print</span> <span class="s">"Parsing"</span><span class="p">,</span> <span class="n">country</span>
    <span class="n">team</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Team</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">country</span><span class="o">=</span><span class="n">country</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">group</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">pq</span><span class="p">(</span><span class="s">'tr'</span><span class="p">,</span> <span class="n">squad</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]:</span>
        
        <span class="n">position</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="s">'td:eq(1)'</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="s">'td:eq(2)'</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="s">'td:eq(2) a'</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">'href'</span><span class="p">)</span>
        
        <span class="n">club_country</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Country</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">pq</span><span class="p">(</span><span class="s">'td:eq(5) span.flagicon a'</span><span class="p">,</span> <span class="n">pq</span><span class="p">(</span><span class="s">'tr'</span><span class="p">,</span> <span class="n">squad</span><span class="p">)[</span><span class="mi">6</span><span class="p">])</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">'title'</span><span class="p">))</span>
        <span class="n">club</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Club</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">pq</span><span class="p">(</span><span class="s">'td:eq(5)'</span><span class="p">,</span> <span class="n">pq</span><span class="p">(</span><span class="s">'tr'</span><span class="p">,</span> <span class="n">squad</span><span class="p">)[</span><span class="mi">6</span><span class="p">])</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">country</span><span class="o">=</span><span class="n">club_country</span><span class="p">)</span>
        <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">full_name</span><span class="o">=</span><span class="n">full_name</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="n">team</span><span class="p">,</span> <span class="n">current_club</span><span class="o">=</span><span class="n">club</span><span class="p">)</span>
    
        
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">squad</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pq</span><span class="p">(</span><span class="s">'table:not(.sortable)'</span><span class="p">)[:</span><span class="mi">32</span><span class="p">]):</span>
    <span class="n">parse_squad</span><span class="p">(</span><span class="n">squad</span><span class="p">,</span> <span class="s">"ABCDEFGH"</span><span class="p">[</span><span class="n">i</span> <span class="o">/</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Parsing Brazil
Parsing Cameroon
Parsing Croatia
Parsing Mexico
Parsing Australia
Parsing Chile
Parsing Netherlands
Parsing Spain
Parsing Colombia
Parsing Côte d'Ivoire
Parsing Greece
Parsing Japan
Parsing Costa Rica
Parsing England
Parsing Italy
Parsing Uruguay
Parsing Ecuador
Parsing France
Parsing Honduras
Parsing Switzerland
Parsing Argentina
Parsing Bosnia and Herzegovina
Parsing Iran
Parsing Nigeria
Parsing Germany
Parsing Ghana
Parsing Portugal
Parsing United States
Parsing Algeria
Parsing Belgium
Parsing Russia
Parsing South Korea

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [9]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[9]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[&lt;Player: Júlio César&gt;, &lt;Player: Jefferson&gt;, &lt;Player: Victor&gt;, &lt;Player: Daniel Alves&gt;, &lt;Player: Maicon&gt;, &lt;Player: Thiago Silva ( captain )&gt;, &lt;Player: David Luiz&gt;, &lt;Player: Marcelo&gt;, &lt;Player: Dante&gt;, &lt;Player: Maxwell&gt;, &lt;Player: Henrique&gt;, &lt;Player: Ramires&gt;, &lt;Player: Oscar&gt;, &lt;Player: Paulinho&gt;, &lt;Player: Hernanes&gt;, &lt;Player: Luiz Gustavo&gt;, &lt;Player: Bernard&gt;, &lt;Player: Fernandinho&gt;, &lt;Player: Willian&gt;, &lt;Player: Neymar&gt;, '...(remaining elements truncated)...']
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">messi</span> <span class="o">=</span> <span class="n">PyQuery</span><span class="p">(</span><span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">full_name__contains</span><span class="o">=</span><span class="s">'Messi'</span><span class="p">)</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="n">messi</span><span class="o">.</span><span class="n">make_links_absolute</span><span class="p">()</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[6]:</div>

<div class="output_html rendered_html output_subarea output_pyout">
<caption class="fn" style="font-size: 125%; font-weight: bold; line-height: 1.5em">Lionel Messi</caption>
<tr class="">
<td colspan="4" class="" style="text-align:center;">
<a href="http://en.wikipedia.org/wiki/File:Lionel_Messi_Player_of_the_Year_2011.jpg" class="image"><img alt="Lionel Messi Player of the Year 2011.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Lionel_Messi_Player_of_the_Year_2011.jpg/220px-Lionel_Messi_Player_of_the_Year_2011.jpg" width="220" height="272" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Lionel_Messi_Player_of_the_Year_2011.jpg/330px-Lionel_Messi_Player_of_the_Year_2011.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Lionel_Messi_Player_of_the_Year_2011.jpg/440px-Lionel_Messi_Player_of_the_Year_2011.jpg 2x" data-file-width="3273" data-file-height="4045"></a><br><span style="">Messi playing for <a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a> at the <a href="http://en.wikipedia.org/wiki/2011_FIFA_Club_World_Cup" title="2011 FIFA Club World Cup">2011 FIFA Club World Cup</a></span>
</td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">Personal information</th>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Full name</th>
<td colspan="3" class="nickname" style="white-space: nowrap; vertical-align: baseline">Lionel Andrés Messi<sup id="cite_ref-barca_1-0" class="reference"><a href="http://en.wikipedia.org/wiki/Lionel_Messi#cite_note-barca-1"><span>[</span>1<span>]</span></a></sup>
</td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Date of birth</th>
<td colspan="3" class="" style="white-space: nowrap; vertical-align: baseline">
<span style="display:none">(<span class="bday">1987-06-24</span>)</span> 24 June 1987 <span class="noprint ForceAgeToShow">(age 26)</span><sup id="cite_ref-barca_1-1" class="reference"><a href="http://en.wikipedia.org/wiki/Lionel_Messi#cite_note-barca-1"><span>[</span>1<span>]</span></a></sup>
</td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Place of birth</th>
<td colspan="3" class="birthplace" style="white-space: nowrap; vertical-align: baseline">
<a href="http://en.wikipedia.org/wiki/Rosario,_Santa_Fe" title="Rosario, Santa Fe">Rosario</a>, Argentina<sup id="cite_ref-barca_1-2" class="reference"><a href="http://en.wikipedia.org/wiki/Lionel_Messi#cite_note-barca-1"><span>[</span>1<span>]</span></a></sup>
</td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Height</th>
<td colspan="3" class="" style="white-space: nowrap; vertical-align: baseline">1.69 m (5 ft 7 in)<sup id="cite_ref-barca_1-3" class="reference"><a href="http://en.wikipedia.org/wiki/Lionel_Messi#cite_note-barca-1"><span>[</span>1<span>]</span></a></sup>
</td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Playing position</th>
<td colspan="3" class="role" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/Forward_(association_football)" title="Forward (association football)">Forward</a></td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">Club information</th>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Current club</th>
<td colspan="3" class="org" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a></td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Number</th>
<td colspan="3" class="" style="white-space: nowrap; vertical-align: baseline">10</td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">Youth career</th>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">1995–2000</span></th>
<td colspan="3" class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/Newell%27s_Old_Boys" title="Newell's Old Boys">Newell's Old Boys</a></td>
</tr>
<tr class="">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2000–2003</span></th>
<td colspan="3" class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a></td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">Senior career*</th>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left">Years</th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><b>Team</b></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right"><b>Apps<sup>†</sup></b></td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right"><b>(Gls)<sup>†</sup></b></td>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2003–2004</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/FC_Barcelona_C" title="FC Barcelona C">Barcelona C</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">10</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(5)</td>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2004–2005</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/FC_Barcelona_B" title="FC Barcelona B">Barcelona B</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">22</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(6)</td>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2004–</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/FC_Barcelona" title="FC Barcelona">Barcelona</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">276</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(243)</td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">National team<sup>‡</sup>
</th>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2004–2005</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/Argentina_national_under-20_football_team" title="Argentina national under-20 football team">Argentina U20</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">18</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(14)</td>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2007–2008</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/Argentina_national_under-23_football_team" title="Argentina national under-23 football team">Argentina U23</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">5</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(2)</td>
</tr>
<tr class="" style="white-space: nowrap; vertical-align: baseline">
<th style="white-space: nowrap; vertical-align: baseline; text-align: left"><span style="font-weight:normal">2005–</span></th>
<td class="" style="white-space: nowrap; vertical-align: baseline"><a href="http://en.wikipedia.org/wiki/Argentina_national_football_team" title="Argentina national football team">Argentina</a></td>
<td class="" style="white-space: nowrap; vertical-align: baseline;text-align: right">83</td>
<td class="" style="white-space: nowrap; vertical-align: baseline; text-align: right">(37)</td>
</tr>
<tr class="">
<th colspan="4" style="text-align:center; background-color: #b0c4de; line-height: 1.5em">
<div class="NavFrame collapsed" style="border: none; padding: 0;">
<div class="NavHead" style="font-size:105%; text-align: center; background-color: transparent;">Honours</div>
<div class="NavContent" style="font-size:105%; font-weight: normal; width: 100%;">
<table style="width:100%; background-color: #f9f9f9; color: #000000;">
<tr bgcolor="#EEEEEE" class="adr" align="center">
<th colspan="3"><b>Competitor for <span class="country-name"><span class="flagicon"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Flag_of_Argentina.svg/23px-Flag_of_Argentina.svg.png" width="23" height="14" class="thumbborder" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Flag_of_Argentina.svg/35px-Flag_of_Argentina.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Flag_of_Argentina.svg/46px-Flag_of_Argentina.svg.png 2x" data-file-width="800" data-file-height="500"> </span><a href="http://en.wikipedia.org/wiki/Argentina" title="Argentina">Argentina</a></span></b></th>
</tr>
<tr bgcolor="#EEEEEE" align="center">
<th colspan="3">Men's <a href="http://en.wikipedia.org/wiki/Football" title="Football">Football</a>
</th>
</tr>
<tr bgcolor="#CCCCCC" align="center">
<th colspan="3"><a href="http://en.wikipedia.org/wiki/Football_at_the_Summer_Olympics" title="Football at the Summer Olympics">Olympic Games</a></th>
</tr>
<tr align="center" bgcolor="white" valign="middle">
<td bgcolor="gold"><b>Gold</b></td>
<td><a href="http://en.wikipedia.org/wiki/Football_at_the_2008_Summer_Olympics_%E2%80%93_Men%27s_tournament" title="Football at the 2008 Summer Olympics – Men's tournament">2008 Beijing</a></td>
<td><a href="http://en.wikipedia.org/wiki/Argentina_national_under-23_football_team" title="Argentina national under-23 football team">Olympic Team</a></td>
</tr>
<tr bgcolor="#CCCCCC" align="center">
<th colspan="3"><a href="http://en.wikipedia.org/wiki/Copa_Am%C3%A9rica" title="Copa América">Copa América</a></th>
</tr>
<tr align="center" valign="middle" bgcolor="white">
<td bgcolor="silver"><b>Runner-up</b></td>
<td><span class="nowrap"><a href="http://en.wikipedia.org/wiki/2007_Copa_Am%C3%A9rica" title="2007 Copa América">2007 Venezuela</a></span></td>
<td><a href="http://en.wikipedia.org/wiki/Argentina_national_football_team" title="Argentina national football team">Team</a></td>
</tr>
<tr bgcolor="#CCCCCC" align="center">
<th colspan="3"><a href="http://en.wikipedia.org/wiki/FIFA_U-20_World_Cup" title="FIFA U-20 World Cup">FIFA U-20 World Cup</a></th>
</tr>
<tr align="center" valign="middle" bgcolor="white">
<td bgcolor="gold"><b>Winner</b></td>
<td><span class="nowrap"><a href="http://en.wikipedia.org/wiki/2005_FIFA_World_Youth_Championship" title="2005 FIFA World Youth Championship">2005 Netherlands</a></span></td>
<td><a href="http://en.wikipedia.org/wiki/Argentina_national_under-20_football_team" title="Argentina national under-20 football team">U-20 Team</a></td>
</tr>
<tr bgcolor="#CCCCCC" align="center">
<th colspan="3"><a href="http://en.wikipedia.org/wiki/U-20_South_American_Championship" title="U-20 South American Championship" class="mw-redirect">U-20 South American Championship</a></th>
</tr>
<tr align="center" valign="middle" bgcolor="white">
<td bgcolor="#CC9966"><b>Third</b></td>
<td><span class="nowrap"><a href="http://en.wikipedia.org/wiki/U-20_South_American_Championship" title="U-20 South American Championship" class="mw-redirect">2005 Colombia</a></span></td>
<td><a href="http://en.wikipedia.org/wiki/Argentina_national_under-20_football_team" title="Argentina national under-20 football team">U-20 Team</a></td>
</tr>
</table>
</div>
</div>
</th>
</tr>
<tr class="">
<td colspan="4" class="" style="text-align:center; color:darkslategray; font-size:95%">* Senior club appearances and goals counted for the domestic league only and correct as of 01:38, 17 May 2014 (UTC).<br><p>† Appearances (Goals).<br></p>
‡ National team caps and goals correct as of 11 September 2013</td>
</tr>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [21]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[21]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
u"Lionel Messi Messi playing for Barcelona at the 2011 FIFA Club World Cup Personal information Full name Lionel Andr\xe9s Messi [ 1 ] Date of birth ( 1987-06-24 ) 24 June 1987 (age\xa026) [ 1 ] Place of birth Rosario , Argentina [ 1 ] Height 1.69\xa0m (5\xa0ft 7\xa0in) [ 1 ] Playing position Forward Club information Current club Barcelona Number 10 Youth career 1995\u20132000 Newell's Old Boys 2000\u20132003 Barcelona Senior career* Years Team Apps \u2020 (Gls) \u2020 2003\u20132004 Barcelona C 10 (5) 2004\u20132005 Barcelona B 22 (6) 2004\u2013 Barcelona 276 (243) National team \u2021 2004\u20132005 Argentina U20 18 (14) 2007\u20132008 Argentina U23 5 (2) 2005\u2013 Argentina 83 (37) Honours Competitor for Argentina Men's Football Olympic Games Gold 2008 Beijing Olympic Team Copa Am\xe9rica Runner-up 2007 Venezuela Team FIFA U-20 World Cup Winner 2005 Netherlands U-20 Team U-20 South American Championship Third 2005 Colombia U-20 Team * Senior club appearances and goals counted for the domestic league only and correct as of 01:38, 17 May 2014 (UTC). \u2020 Appearances (Goals). \u2021 National team caps and goals correct as of 11 September 2013 Lionel Messi Born Lionel Andr\xe9s Messi ( 1987-06-24 ) 24 June 1987 (age\xa026) Rosario , Santa Fe , Argentina Residence Barcelona , Catalonia , Spain Nationality Argentinian Ethnicity Argentinian &amp; Italian Occupation Association Footballer Salary \u20ac 16\xa0million Religion Roman Catholic Spouse(s) Antonella Roccuzzo Children Thiago Messi Parents Jorge Horacio Messi (father) Celia Maria Cuccittini (mother) Relatives Maxi Biancucchi (cousin) Emanuel Biancucchi (cousin) Website Official Website"
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [14]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">fecha</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'\d{4}\-\d{2}\-\d{2}'</span><span class="p">,</span> <span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">fecha</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[14]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
u'1987-06-24'
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [15]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">fecha</span><span class="p">,</span> <span class="s">"%Y-%m-</span><span class="si">%d</span><span class="s">"</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[15]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
datetime.date(1987, 6, 24)
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [42]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">height</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d{1}\.\d{2})'</span><span class="p">,</span>  <span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [43]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">height</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[43]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
u'1.69'
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [29]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">apps</span><span class="p">,</span> <span class="n">goals</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d+) \((\d+)\) National team'</span><span class="p">,</span> <span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">apps</span><span class="p">,</span> <span class="n">goals</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[29]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
(u'276', u'243')
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [31]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d+) \((\d+)\)'</span><span class="p">,</span> <span class="n">messi</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[31]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
(u'83', u'37')
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [44]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">fill_player</span><span class="p">(</span><span class="n">player</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">'Retriving data for'</span><span class="p">,</span> <span class="n">player</span>
    <span class="n">pq</span> <span class="o">=</span> <span class="n">PyQuery</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="n">pq</span><span class="o">.</span><span class="n">make_links_absolute</span><span class="p">()</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="s">'table.infobox'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">date_of_birth</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'\d{4}\-\d{2}\-\d{2}'</span><span class="p">,</span> <span class="n">info</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="s">"%Y-%m-</span><span class="si">%d</span><span class="s">"</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d{1}\.\d{2})'</span><span class="p">,</span> <span class="n">info</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'Height (\d{3})'</span><span class="p">,</span> <span class="n">info</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">100</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">player</span><span class="o">.</span><span class="n">last_season_apps</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">last_season_goals</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d+) \((\d+)\) National team'</span><span class="p">,</span> <span class="n">info</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">try</span><span class="p">:</span> 
        <span class="n">player</span><span class="o">.</span><span class="n">national_team_apps</span><span class="p">,</span> <span class="n">player</span><span class="o">.</span><span class="n">national_team_goals</span> <span class="o">=</span>  <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'(\d+) \((\d+)\)'</span><span class="p">,</span> <span class="n">info</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="n">player</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [91]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">url__contains</span><span class="o">=</span><span class="s">'edit'</span><span class="p">)[</span><span class="mi">476</span><span class="p">:]:</span>
    <span class="n">fill_player</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Retriving data for Luis López
Retriving data for Maynor Figueroa
Retriving data for Víctor Bernárdez
Retriving data for Emilio Izaguirre
Retriving data for Osman Chávez
Retriving data for Juan Carlos García
Retriving data for Brayan Beckeles
Retriving data for Juan Pablo Montes
Retriving data for Wilson Palacios
Retriving data for Óscar García
Retriving data for Jorge Claros
Retriving data for Marvin Chávez
Retriving data for Roger Espinoza
Retriving data for Mario Martínez
Retriving data for Arnold Peralta
Retriving data for Luis Garrido
Retriving data for Andy Najar
Retriving data for Carlo Costly
Retriving data for Jerry Bengtson
Retriving data for Jerry Palacios
Retriving data for Rony Martínez
Retriving data for Diego Benaglio
Retriving data for Stephan Lichtsteiner
Retriving data for Reto Ziegler
Retriving data for Philippe Senderos
Retriving data for Steve von Bergen
Retriving data for Michael Lang
Retriving data for Tranquillo Barnetta
Retriving data for Gökhan Inler ( captain )
Retriving data for Haris Seferović
Retriving data for Granit Xhaka
Retriving data for Valon Behrami
Retriving data for Yann Sommer
Retriving data for Ricardo Rodríguez
Retriving data for Valentin Stocker
Retriving data for Blerim Džemaili
Retriving data for Gelson Fernandes
Retriving data for Mario Gavranović
Retriving data for Admir Mehmedi
Retriving data for Josip Drmić
Retriving data for Johan Djourou
Retriving data for Roman Bürki
Retriving data for Fabian Schär
Retriving data for Xherdan Shaqiri
Retriving data for Sergio Romero
Retriving data for Mariano Andújar
Retriving data for Agustín Orión
Retriving data for Martín Demichelis
Retriving data for Pablo Zabaleta
Retriving data for Federico Fernández
Retriving data for Marcos Rojo
Retriving data for Ezequiel Garay
Retriving data for Nicolás Otamendi
Retriving data for Hugo Campagnaro
Retriving data for José María Basanta
Retriving data for Javier Mascherano
Retriving data for Maxi Rodríguez
Retriving data for Fernando Gago
Retriving data for Ángel di María
Retriving data for Éver Banega
Retriving data for José Ernesto Sosa
Retriving data for Lucas Biglia
Retriving data for Augusto Fernández
Retriving data for Ricardo Álvarez
Retriving data for Enzo Pérez
Retriving data for Lionel Messi ( Captain )
Retriving data for Sergio Agüero
Retriving data for Gonzalo Higuaín
Retriving data for Ezequiel Lavezzi
Retriving data for Rodrigo Palacio
Retriving data for Asmir Begović
Retriving data for Asmir Avdukić
Retriving data for Jasmin Fejzić
Retriving data for Dejan Bandović
Retriving data for Emir Spahić
Retriving data for Mensur Mujdža
Retriving data for Avdija Vršajević
Retriving data for Ognjen Vranješ
Retriving data for Ermin Bičakčić
Retriving data for Ervin Zukanović
Retriving data for Toni Šunjić
Retriving data for Sead Kolašinac
Retriving data for Zvjezdan Misimović
Retriving data for Miralem Pjanić
Retriving data for Senijad Ibričić
Retriving data for Sejad Salihović
Retriving data for Haris Medunjanin
Retriving data for Senad Lulić
Retriving data for Adnan Zahirović
Retriving data for Miroslav Stevanović
Retriving data for Muhamed Bešić
Retriving data for Izet Hajrović
Retriving data for Zoran Kvržić
Retriving data for Anel Hadžić
Retriving data for Tino-Sven Sušić
Retriving data for Srđan Stanić
Retriving data for Edin Džeko
Retriving data for Vedad Ibišević
Retriving data for Ermin Zec
Retriving data for Edin Višća
Retriving data for Rahman Ahmadi
Retriving data for Alireza Haghighi
Retriving data for Daniel Davari
Retriving data for Sosha Makani

</pre>
</div>
</div>

<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_text output_pyerr">
<pre>
<span class="ansired">---------------------------------------------------------------------------</span>
<span class="ansired">IndexError</span>                                Traceback (most recent call last)
<span class="ansigreen">&lt;ipython-input-91-a15539bb8dd1&gt;</span> in <span class="ansicyan">&lt;module&gt;</span><span class="ansiblue">()</span>
<span class="ansigreen">      1</span> <span class="ansigreen">for</span> player <span class="ansigreen">in</span> Player<span class="ansiyellow">.</span>objects<span class="ansiyellow">.</span>exclude<span class="ansiyellow">(</span>url__contains<span class="ansiyellow">=</span><span class="ansiblue">'edit'</span><span class="ansiyellow">)</span><span class="ansiyellow">[</span><span class="ansicyan">476</span><span class="ansiyellow">:</span><span class="ansiyellow">]</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">----&gt; 2</span><span class="ansiyellow">     </span>fill_player<span class="ansiyellow">(</span>player<span class="ansiyellow">)</span><span class="ansiyellow"></span>

<span class="ansigreen">&lt;ipython-input-44-cca0e57f628c&gt;</span> in <span class="ansicyan">fill_player</span><span class="ansiblue">(player)</span>
<span class="ansigreen">      8</span>         player<span class="ansiyellow">.</span>height <span class="ansiyellow">=</span> re<span class="ansiyellow">.</span>findall<span class="ansiyellow">(</span><span class="ansiblue">r'(\d{1}\.\d{2})'</span><span class="ansiyellow">,</span> info<span class="ansiyellow">)</span><span class="ansiyellow">[</span><span class="ansicyan">0</span><span class="ansiyellow">]</span><span class="ansiyellow"></span>
<span class="ansigreen">      9</span>     <span class="ansigreen">except</span> IndexError<span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">---&gt; 10</span><span class="ansiyellow">         </span>player<span class="ansiyellow">.</span>height <span class="ansiyellow">=</span> float<span class="ansiyellow">(</span>re<span class="ansiyellow">.</span>findall<span class="ansiyellow">(</span><span class="ansiblue">r'Height (\d{3})'</span><span class="ansiyellow">,</span> info<span class="ansiyellow">)</span><span class="ansiyellow">[</span><span class="ansicyan">0</span><span class="ansiyellow">]</span><span class="ansiyellow">)</span><span class="ansiyellow">/</span><span class="ansicyan">100</span><span class="ansiyellow"></span>
<span class="ansigreen">     11</span> <span class="ansiyellow"></span>
<span class="ansigreen">     12</span>     <span class="ansigreen">try</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>

<span class="ansired">IndexError</span>: list index out of range</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [90]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">url__contains</span><span class="o">=</span><span class="s">'edit'</span><span class="p">)[</span><span class="mi">476</span><span class="p">:]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[90]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[&lt;Player: Luis López&gt;, &lt;Player: Maynor Figueroa&gt;, &lt;Player: Víctor Bernárdez&gt;, &lt;Player: Emilio Izaguirre&gt;, &lt;Player: Osman Chávez&gt;, &lt;Player: Juan Carlos García&gt;, &lt;Player: Brayan Beckeles&gt;, &lt;Player: Juan Pablo Montes&gt;, &lt;Player: Wilson Palacios&gt;, &lt;Player: Óscar García&gt;, &lt;Player: Jorge Claros&gt;, &lt;Player: Marvin Chávez&gt;, &lt;Player: Roger Espinoza&gt;, &lt;Player: Mario Martínez&gt;, &lt;Player: Arnold Peralta&gt;, &lt;Player: Luis Garrido&gt;, &lt;Player: Andy Najar&gt;, &lt;Player: Carlo Costly&gt;, &lt;Player: Jerry Bengtson&gt;, &lt;Player: Jerry Palacios&gt;, '...(remaining elements truncated)...']
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In [85]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">Player</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">full_name__icontains</span><span class="o">=</span><span class="s">'luis l'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">
    Out[85]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
481
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In []:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>



   <hr>
<div class="ps">
            <div class="metadata posttranslations translations">
            <h3 class="posttranslations-intro">También disponible en:</h3>
        </div>

    <p>El código de este artículo está disponible en  <a href="https://github.com/mgaitan/mgaitan.github.com/blob/writing/posts/los-numeros-del-mundial.ipynb" id="sourcelink">github</a>. ¿Encontraste un error? Por favor,  <a href="https://github.com/mgaitan/mgaitan.github.com/edit/writing/posts/los-numeros-del-mundial.ipynb" id="sourcelink">enviame un pull request</a>.</p>
    </div>

    <aside class="postpromonav"><nav></nav></aside><section class="comments"><h2>Comentarios</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nqnwebs",
            disqus_url="http://mgaitan.github.io/posts/los-numeros-del-mundial.html",
        disqus_title="Los n\u00fameros del Mundial",
        disqus_identifier="cache/posts/los-numeros-del-mundial.html",
        disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer>
                Contents © 2014         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>
                
            </footer>
</div>
        </div>
        <!--End of body content-->


    </div>
</div>

            <script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script src="../assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
