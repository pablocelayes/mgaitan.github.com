<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="&gt;&gt;&gt; me.geek.post()">
<meta name="viewport" content="width=device-width">
<title>tin_nqn | &gt;&gt;&gt; me.geek.post()  </title>
<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="en/rss.xml">
<link rel="canonical" href="http://mgaitan.github.io/index.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><script src="assets/js/jquery.min.js"></script><link rel="prefetch" href="posts/curso-de-python-para-ciencias-e-ingenieria-nueva-edicion.html" type="text/html">
</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-static-top" role="navigation"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://mgaitan.github.io/">

                <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
                </div>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
<li>
<a href="about.html">Sobre mí</a>
                </li>
<li>
<a href="charlas.html">Charlas</a>
                </li>
<li>
<a href="archive.html">Archivos</a>
                </li>
<li>
<a href="categories/index.html">Categorías</a>
                </li>
<li>
<a href="rss.xml">RSS</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>            </li>
<li><a href="en/index.html" rel="alternate" hreflang="en">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">

            <div class="col-md-offset-2 col-md-8">
            
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/curso-de-python-para-ciencias-e-ingenieria-nueva-edicion.html" class="u-url">Curso de Python para ciencias e ingeniería, nueva edición</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/curso-de-python-para-ciencias-e-ingenieria-nueva-edicion.html" rel="bookmark"><time class="published dt-published" datetime="2015-08-19T17:50:09-03:00" title="19/08/15 17:50:09">19/08/15 17:50:09</time></a></p>
                <p class="commentline">            <a href="posts/curso-de-python-para-ciencias-e-ingenieria-nueva-edicion.html#disqus_thread" data-disqus-identifier="cache/posts/curso-de-python-para-ingenierias-y-ciencias-nueva-edicion.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<img alt="/images/Newsletter4-Banner_20120705_12-44-50-800.jpg" src="images/Newsletter4-Banner_20120705_12-44-50-800.jpg"><p>Está abierta la inscripción para el nuevo dictado de mi curso de <strong>introducción a Python para ciencias e ingenierías</strong>, en la <strong>Facultad de Ciencias Exáctas, Físicas y Naturales</strong> de la Universidad Nacional de Córdoba (aprobado como curso de extensión - <a class="reference external" href="http://www.digesto.unc.edu.ar/cefn/decanato/resolucion/1272_2015">Resolución 1272/2015</a>, bajo el nombre "Python como herramienta para la ingeniería") desde el <strong>miércoles 7 de ocubre de 18 a 22hs</strong>, durante 5 semanas.</p>
<p>Este curso una versión mejorada del que [dicté](/posts/python-para-ciencia-e-ingenieria.html) en la Facultad de Matemática, Física y Astronomía en mayo pasado, avalado como curso de extensión (<a class="reference external" href="http://www.digesto.unc.edu.ar/famaf/honorable-consejo-directivo/resolucion/107_2015/?searchterm=107/2015">Resolución HCD 107/2015</a>)</p>
<p>El precio está absolutamente subsidiado por las ganas de que más ingenieros e investigadores programen Python. No te demores en <a class="reference external" href="http://goo.gl/forms/cQszya0Sdi">anotarte</a> , <strong>los cupos son muy limitados</strong>!</p>
<p>Se entregarán certificados a quienes completen asistencia.</p>
<p class="more"><a href="posts/curso-de-python-para-ciencias-e-ingenieria-nueva-edicion.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/python-para-ciencia-e-ingenieria.html" class="u-url">Curso de Python para ñoños</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/python-para-ciencia-e-ingenieria.html" rel="bookmark"><time class="published dt-published" datetime="2015-04-06T10:46:36-03:00" title="06/04/15 10:46:36">06/04/15 10:46:36</time></a></p>
                <p class="commentline">            <a href="posts/python-para-ciencia-e-ingenieria.html#disqus_thread" data-disqus-identifier="cache/posts/python-para-ciencia-e-ingenieria.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p class="alert alert-success"><strong>¡Los cupos irán a sorteo!</strong> Anotate. Si no entrás para en esta edición, quedás anotado para la próxima que será muy pronto.</p>
<p>La demanda nos desbordó. En menos de 2 dias tenemos inscriptos para llenar dos veces el laboratorio que tenemos disponible! Algunos ya están averiguando la disponibilidad del Estadio Kempes para hacer el próximo.</p>
<p>Como recién hoy (martes 7 de abril) se realizó la difusión oficial desde FaMAF, la decisión
de los organizadores es permitir la inscripción de todos los interesados y hacer un sorteo de las 25 plazas
aranceladas y otro para las 15 plazas gratuitas reservadas para estudiantes de grado de FaMAF.</p>
<p>La justificación de un sorteo en vez de tomar el orden de inscripción la dió el Dr. Nicolás Wolovick, que junto al Dr. Pedro Pury fueron los gestores para que el curso se oficializara, con un argumento democráticamente ñoño:</p>
<blockquote>
Estar conectado 24/7 por 3G, recibir el tweet, e inscribirse, no es justo, es una condición de posibilidad que no todos tienen. La distribución uniforme es la que mayor entropía tiene :)</blockquote>
<p>Si estás interesado, es importante que te inscribas a través del <a class="reference external" href="http://goo.gl/forms/kB7jkXHLyf">formulario</a>.
Así tendremos una lista bien grande de "argumentos" para reeditar el curso lo más pronto posible.</p>
<p>Otra posibilidad es que averigües <span class="strike">hagas lobby</span> en tu empresa o laboratorio sobre la posibilidad de realizar el curso <em>in house</em> y, si tienen interés, <a class="reference external" href="about.html">lo charlamos</a>.</p>
<hr class="docutils">
<img alt="/images/Newsletter4-Banner_20120705_12-44-50-800.jpg" src="images/Newsletter4-Banner_20120705_12-44-50-800.jpg"><p>A partir del 29 de abril voy a dar el curso <a class="reference external" href="https://github.com/mgaitan/curso-python-cientifico">Introducción a Python para ciencias e ingenierías</a> en la Facultad de Matemática, Astronomía y Física (<a class="reference external" href="http://famaf.unc.edu.ar/">FaMAF</a>) de la Universidad Nacional de Córdoba.</p>
<p>Este curso es una versión revisada y extendida del que dí en la <a class="reference external" href="http://scipycon.com.ar/">ScipyCon Argentina 2014</a> y durará 8 clases de 2hs cada una. Será los miércoles de 18hs a 20hs en el laboratorio de computación de la facultad. No hace falta contar con equipo propio y el único pre-requisito es tener nociones básicas de programación en cualquier lenguaje.</p>
<p>El costo del curso es $400. Hay becas para estudiantes de grado de FaMAF.</p>
<p>Acá está el <a class="reference external" href="http://goo.gl/forms/kB7jkXHLyf">formulario de pre-inscripción (LOS CUPOS IRAN A SORTEO)</a>.</p>
<p>El curso está reconocido como Curso de Extensión de FaMAF (Res. HCD 107/2015) y
se entregarán certificados oficiales a quienes completen asistencia y participación.</p>
<p class="alert alert-warning"><strong>Atención</strong> Los cupos son muy limitados!</p>
<p class="more"><a href="posts/python-para-ciencia-e-ingenieria.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-python, scrapping"><header><h1 class="p-name entry-title"><a href="posts/sergio-massa-y-lagente.html" class="u-url">Sergio Massa y #LaGente</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/sergio-massa-y-lagente.html" rel="bookmark"><time class="published dt-published" datetime="2015-03-13T00:56:43-03:00" title="13/03/15 00:56:43">13/03/15 00:56:43</time></a></p>
                <p class="commentline">            <a href="posts/sergio-massa-y-lagente.html#disqus_thread" data-disqus-identifier="cache/posts/sergio-massa-y-lagente.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Anoche me reí mucho con el hashtag <a href="https://twitter.com/search?q=%23lagente&amp;src=typd">#LaGente</a>, que se viralizó mientras Alejandro Fantino entrevistaba, una vez más, al inefable candidato presidencial Sergio Massa.</p>
<blockquote class="twitter-tweet" lang="es">
<p>"Me comprometo no ante vos, ante <a href="https://twitter.com/hashtag/LaGente?src=hash">#LaGente</a>". Lo harta que me tiene este tipo no tiene nombre.</p>— Fenicia  (@zeinicienta) <a href="https://twitter.com/zeinicienta/status/575858399021264896">marzo 12, 2015</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><blockquote class="twitter-tweet" lang="es">
<p>Es insoportable la cantidad de frases hechas y lugares comunes que tira <a href="https://twitter.com/SergioMassa">@SergioMassa</a>. Demagogo berreta. <a href="https://twitter.com/hashtag/LaGente?src=hash">#LaGente</a></p>— Javier Smaldone (@mis2centavos) <a href="https://twitter.com/mis2centavos/status/575850582386343938">marzo 12, 2015</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><blockquote class="twitter-tweet" lang="es">
<p>Quiero contar la cantidad de veces que +a dice <a href="https://twitter.com/hashtag/LaGente?src=hash">#LaGente</a></p>— memorex (@memorex) <a href="https://twitter.com/memorex/status/575847833565163521">marzo 12, 2015</a>
</blockquote>
<p>Me acordé entonces de un <a href="http://zulko.github.io/blog/2014/06/21/some-more-videogreping-with-python/">post de Zulko</a>, cuyo blog es un compilado de gemas ñoñamente divertidas. Allí muestra cómo recortar automáticamente los pedacitos de un video que mencionen una palabra o frase, basándose en las marcas de tiempo del archivo de subtítulos, utilizando su maravillosa biblioteca <a href="http://zulko.github.io/moviepy/">Moviepy</a> y un poco de Python. Más o menos lo que hace <a href="https://github.com/antiboredom/videogrep">videogrep</a>, pero más prolijo.</p>
<p>La herramienta <a href="http://rg3.github.io/youtube-dl/">youtube-dl</a> (que también es genial y hecha en Python), permite no sólo bajar videos de youtube y los subtitulos existentes, sino que también puede bajar el "subtitulo automático". En general son bastante malos pero es suficientemente efectivo para encontrar pequeñas frases.</p>
<h3 id='Todo-sea-por-"la-gente":-manos-a-la-obra'>Todo sea por "la gente": manos a la obra<a class="anchor-link" href="posts/sergio-massa-y-lagente.html#Todo-sea-por-%22la-gente%22:-manos-a-la-obra">¶</a>
</h3>
<p>Lo primero que necesitamos es una lista de videos donde Sergio Massa hable. Hice una <a href="https://www.youtube.com/results?search_query=entrevista+sergio+massa">búsqueda</a>, decidí ignorar algunos (parodias, por ejemplo) y generé una lista. Hay varias maneras de obtener este listado de las primeras paginas de resultados, yo utilicé el rústico y efectivo webscrapping:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">pyquery</span> <span class="k">import</span> <span class="n">PyQuery</span>
<span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">skip</span> <span class="o">=</span> <span class="p">(</span><span class="s">'M0yuFHbhYLY'</span><span class="p">,</span><span class="s">'TLmMh9Qvmic'</span><span class="p">,</span> <span class="s">'rY4Hwvn6GlA'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">pq</span> <span class="o">=</span> <span class="n">PyQuery</span><span class="p">(</span><span class="s">'https://www.youtube.com/results?search_query=entrevista+sergio+massa&amp;page=%s'</span> <span class="o">%</span> <span class="n">page</span><span class="p">)</span>
    <span class="n">pq</span><span class="o">.</span><span class="n">make_links_absolute</span><span class="p">()</span>
    <span class="n">links</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">pq</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">'href'</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">pq</span><span class="p">(</span><span class="s">'a.yt-uix-tile-link'</span><span class="p">)</span> <span class="k">if</span> <span class="n">pq</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s">'href'</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'v='</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">skip</span><span class="p">])</span>
<span class="n">links</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[1]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>['https://www.youtube.com/watch?v=8pP8G3fSAcY',
 'https://www.youtube.com/watch?v=g6QSwxUo1aw',
 'https://www.youtube.com/watch?v=_9FN6CI8fD4',
 'https://www.youtube.com/watch?v=5wqwNDpkZOo',
 'https://www.youtube.com/watch?v=V865E4mBiHU',
 'https://www.youtube.com/watch?v=TPrGNJnMS9U',
 'https://www.youtube.com/watch?v=SVTl11hG9Gs',
 'https://www.youtube.com/watch?v=Df_dwb5XHQM',
 'https://www.youtube.com/watch?v=sptBkyfq1VU',
 'https://www.youtube.com/watch?v=tzjz1xrNu3k',
 'https://www.youtube.com/watch?v=k-CGbuOo8do',
 'https://www.youtube.com/watch?v=_L-B_wHsEec',
 'https://www.youtube.com/watch?v=iFOABIQdo9Q',
 'https://www.youtube.com/watch?v=WOlRIKGrBWY',
 'https://www.youtube.com/watch?v=a-mCgN6W9ek',
 'https://www.youtube.com/watch?v=x5vhchv3zAY',
 'https://www.youtube.com/watch?v=bi5eK7i59w0',
 'https://www.youtube.com/watch?v=VNHV3D_6o4E',
 'https://www.youtube.com/watch?v=MWVZ6JDU9V8',
 'https://www.youtube.com/watch?v=v-JmdgVZqVc',
 'https://www.youtube.com/watch?v=FBFHpdxsyYU',
 'https://www.youtube.com/watch?v=WXmTc83l1sQ',
 'https://www.youtube.com/watch?v=GfNgds5vS60',
 'https://www.youtube.com/watch?v=UHRa34A6rDg',
 'https://www.youtube.com/watch?v=xVU-EjnuksU',
 'https://www.youtube.com/watch?v=-IXymTZZM6o',
 'https://www.youtube.com/watch?v=tzvwDTPyTHQ',
 'https://www.youtube.com/watch?v=a19z6EVWpQ4',
 'https://www.youtube.com/watch?v=rAOvF8X_nzM',
 'https://www.youtube.com/watch?v=wtvl4esdMGU',
 'https://www.youtube.com/watch?v=1YPHDDH1Az0',
 'https://www.youtube.com/watch?v=w7TnghsrJUo',
 'https://www.youtube.com/watch?v=qBT-6HpSrwc',
 'https://www.youtube.com/watch?v=JM-xblTxLGc',
 'https://www.youtube.com/watch?v=kMymsVsmETY',
 'https://www.youtube.com/watch?v=K1-dfiVfbOI',
 'https://www.youtube.com/watch?v=VnoiHVlR-So',
 'https://www.youtube.com/watch?v=hMTzJyLiXE4',
 'https://www.youtube.com/watch?v=VGQPNQ1Bhkg',
 'https://www.youtube.com/watch?v=0oR4z7SsY14',
 'https://www.youtube.com/watch?v=Cl4r8h_Hlak',
 'https://www.youtube.com/watch?v=gJFmek-YgYo',
 'https://www.youtube.com/watch?v=9VQ7Ov5W_tM',
 'https://www.youtube.com/watch?v=rKwKImVrYu4',
 'https://www.youtube.com/watch?v=LJwj9SHC9EU',
 'https://www.youtube.com/watch?v=-08OEpFThiw',
 'https://www.youtube.com/watch?v=BPJBl5y2P2g',
 'https://www.youtube.com/watch?v=MvkXlg9ZbL4',
 'https://www.youtube.com/watch?v=7KgIa4fX_Ng',
 'https://www.youtube.com/watch?v=upNLrHtzeBI',
 'https://www.youtube.com/watch?v=Y-norf1BKAs',
 'https://www.youtube.com/watch?v=QMvAl_fxQSA',
 'https://www.youtube.com/watch?v=3os_uXUOvcM',
 'https://www.youtube.com/watch?v=ZE_aChIEELo',
 'https://www.youtube.com/watch?v=iKI-8ceuR-A',
 'https://www.youtube.com/watch?v=CASdYLquQII',
 'https://www.youtube.com/watch?v=5cvyi1CcpYs',
 'https://www.youtube.com/watch?v=NVEw-YIAy5A',
 'https://www.youtube.com/watch?v=yMXn04-GQTY',
 'https://www.youtube.com/watch?v=RCCzZGcGg5k',
 'https://www.youtube.com/watch?v=FqMFKGsXLOE',
 'https://www.youtube.com/watch?v=MVOvQb8KBm0',
 'https://www.youtube.com/watch?v=ENvWfMwnJ_0',
 'https://www.youtube.com/watch?v=bs7xGm293Vs',
 'https://www.youtube.com/watch?v=7OvrK-U-axI',
 'https://www.youtube.com/watch?v=VHeWqPqs4vo',
 'https://www.youtube.com/watch?v=nVOEi9FESn8',
 'https://www.youtube.com/watch?v=eikTWAvFwTE',
 'https://www.youtube.com/watch?v=BU2amn3QdWk',
 'https://www.youtube.com/watch?v=GiB1pOuEvqg',
 'https://www.youtube.com/watch?v=GAPN17lTJ9c',
 'https://www.youtube.com/watch?v=4Ja1uZbMM8E',
 'https://www.youtube.com/watch?v=F1dAfCR4rc0',
 'https://www.youtube.com/watch?v=334O9xh-CQY',
 'https://www.youtube.com/watch?v=KgNmw3sJ0g8',
 'https://www.youtube.com/watch?v=-SQSue4-PLk',
 'https://www.youtube.com/watch?v=HPE4PHlYySo']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Luego, el paso lento: bajar los videos. Al parecer, Youtube no genera un subtitulo automático para videos demasiado largo, así que limité hasta 30 minutos.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
    <span class="o">!</span>youtube-dl --write-auto-sub --sub-lang es --max-filesize 30.00m <span class="o">{</span>link<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Con el material crudo disponible (aunque puede ser que no se hayan encontrado subtitulos para todos los videos), podemos copiar descaradamente partes del código de Zulko (levemente adaptado)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">re</span> 
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">moviepy.editor</span> <span class="k">import</span> <span class="n">VideoFileClip</span><span class="p">,</span> <span class="n">concatenate</span><span class="p">,</span> <span class="n">TextClip</span><span class="p">,</span> <span class="n">CompositeVideoClip</span>


<span class="k">def</span> <span class="nf">convert_time</span><span class="p">(</span><span class="n">timestring</span><span class="p">):</span>
    <span class="sd">""" Converts a string into seconds """</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r'\d+'</span><span class="p">,</span> <span class="n">timestring</span><span class="p">)]</span>
    <span class="k">return</span> <span class="mi">3600</span> <span class="o">*</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">60</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>


<span class="k">def</span> <span class="nf">get_time_texts</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

    <span class="n">times_texts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">current_times</span> <span class="p">,</span> <span class="n">current_text</span> <span class="o">=</span> <span class="k">None</span><span class="p">,</span> <span class="s">""</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">"[0-9]*:[0-9]*:[0-9]*,[0-9]*"</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">times</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">current_times</span> <span class="o">=</span> <span class="p">[</span><span class="n">convert_time</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">times</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">:</span>
            <span class="n">times_texts</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">current_times</span><span class="p">,</span> <span class="n">current_text</span><span class="p">))</span>
            <span class="n">current_times</span><span class="p">,</span> <span class="n">current_text</span> <span class="o">=</span> <span class="k">None</span><span class="p">,</span> <span class="s">""</span>
        <span class="k">elif</span> <span class="n">current_times</span> <span class="ow">is</span> <span class="ow">not</span> <span class="k">None</span><span class="p">:</span>
            <span class="n">current_text</span> <span class="o">=</span> <span class="n">current_text</span> <span class="o">+</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">times_texts</span>

<span class="k">def</span> <span class="nf">find_word</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">times_texts</span><span class="p">,</span> <span class="n">padding</span><span class="o">=.</span><span class="mi">4</span><span class="p">):</span>
    <span class="sd">""" Finds all 'exact' (t_start, t_end) for a word """</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
               <span class="k">for</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">text</span><span class="p">)</span> <span class="ow">in</span> <span class="n">times_texts</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">t1</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="o">*</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="n">padding</span><span class="p">,</span>
             <span class="n">t1</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">()</span><span class="o">*</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">+</span> <span class="n">padding</span><span class="p">)</span>
             <span class="k">for</span> <span class="n">m</span><span class="p">,((</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">),</span><span class="n">text</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">times_texts</span><span class="p">)</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="k">None</span><span class="p">)]</span>


<span class="k">def</span> <span class="nf">get_subclips</span><span class="p">(</span><span class="n">video_path</span><span class="p">,</span> <span class="n">cuts</span><span class="p">):</span>   
    <span class="n">video</span> <span class="o">=</span> <span class="n">VideoFileClip</span><span class="p">(</span><span class="n">video_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">video</span><span class="o">.</span><span class="n">subclip</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="p">)</span> <span class="ow">in</span> <span class="n">cuts</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">get_all_subclips_for</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s">'*.mp4'</span><span class="p">,</span> <span class="n">sub_ext</span><span class="o">=</span><span class="s">'.es.srt'</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="k">True</span><span class="p">):</span>
    <span class="n">subclips</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">mp4</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">):</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">mp4</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">sub_ext</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">times</span> <span class="o">=</span> <span class="n">find_word</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">get_time_texts</span><span class="p">(</span><span class="n">sub</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="c"># ignore video if it hasn't subtitle</span>
            <span class="k">continue</span>
        <span class="n">cuts</span> <span class="o">=</span> <span class="n">get_subclips</span><span class="p">(</span><span class="n">mp4</span><span class="p">,</span> <span class="n">times</span><span class="p">)</span>
        <span class="n">subclips</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">cuts</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">shuffle</span><span class="p">:</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">subclips</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">subclips</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>La función <code>get_all_subclip</code> recibe la frase a buscar y devuelve un listado de segmentos donde, muy probablemente, se pronuncia.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">gente</span> <span class="o">=</span> <span class="n">get_all_subclips_for</span><span class="p">(</span><span class="s">'la gente'</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">gente</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>77</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>El problema es que aunque es muy probable que sea Sergio Massa el que diga "la gente" en sus entrevistas, a veces es el entrevistador, a veces youtube entendió mal al desgrabar y a veces el código recortador la pifia. Por este motivo hay que descartar los segmentos que no sirven.</p>
<p>Se me ocurrió hacerlo visualmente: los pegué todos, superponiendo el índice al que corresponde cada segmento, para luego anotar los que no sirven y filtrarlos en otra pasada.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">make_preview</span><span class="p">(</span><span class="n">subclips</span><span class="p">):</span>
    <span class="n">subclips_</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">clip</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subclips</span><span class="p">):</span>
        <span class="n">txt_clip</span> <span class="o">=</span> <span class="n">TextClip</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'white'</span><span class="p">)</span>
        <span class="n">txt_clip</span> <span class="o">=</span> <span class="n">txt_clip</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="s">'center'</span><span class="p">)</span><span class="o">.</span><span class="n">set_duration</span><span class="p">(</span><span class="n">clip</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="n">clip</span> <span class="o">=</span> <span class="n">CompositeVideoClip</span><span class="p">([</span><span class="n">clip</span><span class="p">,</span> <span class="n">txt_clip</span><span class="p">])</span>
        <span class="n">subclips_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clip</span><span class="p">)</span>

    <span class="n">final</span> <span class="o">=</span> <span class="n">concatenate</span><span class="p">(</span><span class="n">subclips_</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s">'compose'</span><span class="p">)</span>
    <span class="n">final</span><span class="o">.</span><span class="n">write_videofile</span><span class="p">(</span><span class="s">'preview.webm'</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="s">'libvpx'</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>    
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">make_preview</span><span class="p">(</span><span class="n">gente</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[MoviePy] &gt;&gt;&gt;&gt; Building video preview.webm
[MoviePy] Writing audio in previewTEMP_MPY_wvf_snd.ogg
[MoviePy] Done.
[MoviePy] Writing video preview.webm
[MoviePy] Done.
[MoviePy] &gt;&gt;&gt;&gt; Video ready: preview.webm 

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>El <a href="http://youtu.be/LU76nVlBqdE">resultado</a> me permitió hacer el tamizado</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">ignore</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">74</span><span class="p">]</span>
<span class="n">subclips_cleaned</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gente</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Aunque no tengo idea de edición de videos, y porque de verdad creo que es un demamogo impresentable que no debería presidir ni una junta vecinal, quería darle un toque final, con una pequeña frase</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">moviepy.video.tools.segmenting</span> <span class="k">import</span> <span class="n">findObjects</span>

<span class="k">def</span> <span class="nf">arrive</span><span class="p">(</span><span class="n">screenpos</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">nletters</span><span class="p">):</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">d</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">t</span> <span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">screenpos</span><span class="o">-</span><span class="mi">400</span><span class="o">*</span><span class="n">v</span><span class="o">*</span><span class="n">d</span><span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="mf">0.2</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>

<span class="n">screensize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="mi">360</span><span class="p">)</span>
<span class="n">txtClip</span> <span class="o">=</span> <span class="n">TextClip</span><span class="p">(</span><span class="s">'Yn tragr ab rf obyhqn'</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'rot13'</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s">'white'</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s">"Amiri-Bold"</span><span class="p">,</span> <span class="n">kerning</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">cvc</span> <span class="o">=</span> <span class="n">CompositeVideoClip</span><span class="p">(</span> <span class="p">[</span><span class="n">txtClip</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="s">'center'</span><span class="p">)],</span>
                        <span class="n">size</span><span class="o">=</span><span class="n">screensize</span><span class="p">)</span>

<span class="n">letters</span> <span class="o">=</span> <span class="n">findObjects</span><span class="p">(</span><span class="n">cvc</span><span class="p">)</span> <span class="c"># a list of ImageClips</span>

<span class="k">def</span> <span class="nf">moveLetters</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">funcpos</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span> <span class="n">letter</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">funcpos</span><span class="p">(</span><span class="n">letter</span><span class="o">.</span><span class="n">screenpos</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)))</span>
              <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">letters</span><span class="p">)]</span>

<span class="n">ending</span> <span class="o">=</span> <span class="n">CompositeVideoClip</span><span class="p">(</span><span class="n">moveLetters</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">arrive</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="n">screensize</span><span class="p">)</span><span class="o">.</span><span class="n">subclip</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># le damos una mezcladita más</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">subclips_cleaned</span><span class="p">)</span>
<span class="n">subclips_cleaned</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ending</span><span class="p">)</span>
<span class="n">make_final</span><span class="p">(</span><span class="n">subclips_cleaned</span><span class="p">,</span> <span class="s">'massa_lagente_final.webm'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[MoviePy] &gt;&gt;&gt;&gt; Building video massa_lagente_final.webm
[MoviePy] Writing audio in massa_lagente_finalTEMP_MPY_wvf_snd.ogg
[MoviePy] Done.
[MoviePy] Writing video massa_lagente_final.webm
[MoviePy] Done.
[MoviePy] &gt;&gt;&gt;&gt; Video ready: massa_lagente_final.webm 

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Y este es el resultado:</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/ssXSLUVNz8o" frameborder="0" allowfullscreen>&lt;/iframe&gt;</iframe></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>

    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/las-cosas-chiquitas.html" class="u-url">Las cosas chiquitas que cambian el mundo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/las-cosas-chiquitas.html" rel="bookmark"><time class="published dt-published" datetime="2014-12-04T19:23:44-03:00" title="04/12/14 19:23:44">04/12/14 19:23:44</time></a></p>
                <p class="commentline">            <a href="posts/las-cosas-chiquitas.html#disqus_thread" data-disqus-identifier="cache/posts/donar-asamblea-campo.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="note">
<p class="first admonition-title">Note</p>
<p>Tengo dos weblogs. Este es en el que escribo artículos técnicos o que tienen que ver de alguna manera con mi profesión. <a class="reference external" href="http://www.textosypretextos.com.ar">Textos y pretextos</a> es igual de personal, pero me sale —me sale cada vez menos, tristemente— de otras tripas, quizás para otro público.</p>
<p class="last">Sin embargo, quiero hacer una excepción con este post, porque probablemente tenga más alcance aquí y es algo que me atraviesa todas las facetas: las ganas de hacer de este que pisamos, un mejor mundo.</p>
</div>
<p>Desde el 2005, a las poquitas semanas de haberme venido a vivir a Córdoba, hasta no sé que día del 2012, cada sábado de todas las semanas del año, me tomé dos bondis (o uno, cuando me iba a pata hasta el centro), para llegar a Campo de La Ribera. <em>Mazamorra</em>, la <em>agrupación</em>, fue mi espacio de militancia, mi usina de amistad, mi cobijo del dar y recibir. Sobre todo del recibir.</p>
<iframe width="560" height="315" src="//www.youtube.com/embed/elcqGWJKt3c" frameborder="0" allowfullscreen></iframe><p class="more"><a href="posts/las-cosas-chiquitas.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/travis-ci-para-compilar-y-deployar-tu-blog.html" class="u-url">Travis-CI para compilar y deployar tu blog estático</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/travis-ci-para-compilar-y-deployar-tu-blog.html" rel="bookmark"><time class="published dt-published" datetime="2014-09-30T20:57:08-03:00" title="30/09/14 20:57:08">30/09/14 20:57:08</time></a></p>
                <p class="commentline">            <a href="posts/travis-ci-para-compilar-y-deployar-tu-blog.html#disqus_thread" data-disqus-identifier="cache/posts/travis-ci-para-compilar-y-deployar-tu-blog.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p><a class="reference external" href="http://travis-ci.org/">Travis-CI</a> es un servicio de integración continua, gratuito para proyectos de
software libre. Pero son gente tan copada que no se enojan si en vez de una suite de tests, corremos, por ejemplo,
Nikola para compilar este blog y publicarlo automáticamente.</p>
<p class="more"><a href="posts/travis-ci-para-compilar-y-deployar-tu-blog.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/deploy-de-django-con-circus-chaussette-nginx.html" class="u-url">Deploy de Django con Circus, Chaussette y Nginx</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/deploy-de-django-con-circus-chaussette-nginx.html" rel="bookmark"><time class="published dt-published" datetime="2014-06-12T12:45:13-03:00" title="12/06/14 12:45:13">12/06/14 12:45:13</time></a></p>
                <p class="commentline">            <a href="posts/deploy-de-django-con-circus-chaussette-nginx.html#disqus_thread" data-disqus-identifier="cache/posts/deploy-de-django-con-circus-y-chausette.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Aunque hay un pequeño mito al respecto, poner en producción una aplicación web hecha en Python no es tan complejo. Esa facilidad se debe a la estandarización de la pasarela <a class="reference external" href="http://legacy.python.org/dev/peps/pep-3333/">WSGI</a>, que define cómo se comunica (o se debería comunicar) una "app" (sea hecha con un framework o no) con un servidor web.</p>
<p class="more"><a href="posts/deploy-de-django-con-circus-chaussette-nginx.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/los-numeros-del-mundial.html" class="u-url">Los números del Mundial</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/los-numeros-del-mundial.html" rel="bookmark"><time class="published dt-published" datetime="2014-06-05T13:17:23-03:00" title="05/06/14 13:17:23">05/06/14 13:17:23</time></a></p>
                <p class="commentline">            <a href="posts/los-numeros-del-mundial.html#disqus_thread" data-disqus-identifier="cache/posts/los-numeros-del-mundial.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Un amigo me dijo ayer que la fiebre del mundial ya no le afecta como antes. Cuando era chico, decía, la ansiedad por la navidad, los reyes y sobre todo, los mundiales, no lo dejaba dormir.</p>
<p>A mí Papá Noel y los Reyes me tenían bastante sin cuidado (que sólo ocasionalmente venían a mi casa, sobre todo cuando le hacíamos caso a mi hermano mayor, que nos instruía que a Baltazar había que dejarle una cerveza negra bien fría, para pasar el calor de las madrugadas de enero). Pero me sigue pasando lo mismo con el mundial de fútbol: fiebre. No hay acontecimiento que ansíe más que ese.</p>
<p class="more"><a href="posts/los-numeros-del-mundial.html">Leer más…</a></p>
</div>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/scrapping-de-pdf-con-ipython-y-pdftotext.html" class="u-url">Scrapping de PDF con IPython y pdftotext</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/scrapping-de-pdf-con-ipython-y-pdftotext.html" rel="bookmark"><time class="published dt-published" datetime="2014-05-18T08:17:39-03:00" title="18/05/14 08:17:39">18/05/14 08:17:39</time></a></p>
                <p class="commentline">            <a href="posts/scrapping-de-pdf-con-ipython-y-pdftotext.html#disqus_thread" data-disqus-identifier="cache/posts/scrapping-de-pdf-con-ipython-y-pdftotext.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pocos días después de mi <a href="http://mgaitan.github.io/posts/no-al-fraude-en-cordoba-nuevo-analisis.html">análisis de datos</a> del escrutinio provisorio en las últimas elecciones de Córdoba me llegó un correo que empezaba así:</p>
<blockquote>
<p>Hola Martín, soy Franco Luque, profesor e investigador en Computación de la <a href="http://www.famaf.unc.edu.ar/">FaMAF</a>. Con Jorge Sánchez, otro investigador de acá que trabaja en procesamiento de imágenes, vimos tu iniciativa, muy buena por cierto, y nos pareció muy interesante la posibilidad de procesar las imágenes de las actas para reconocer los números manuscritos. Tan interesante nos pareció que pensamos en la posibilidad de organizar una jornada de programación (lo que algunos llaman hackatón muy a nuestro pesar :P), posiblemente para sábado de la semana que viene.</p>
</blockquote>
<p>Así fue que, en tiempo record, junto a Franco, Jorge, Jairo Trad, Andrés Vazquez y Marysol Farneda organizamos el evento <a href="http://democraciaconcodigos.github.io/">Democracia con códigos</a> en el que participaron 35 personas! Ese evento fue éxito en todo sentido y dio el puntapie inicial para armar el grupo <a href="https://groups.google.com/forum/#!forum/open-data-cordoba">Open Data Córdoba</a>.</p>
<h3 id="Abriendo-datos-para-la-democracia">Abriendo datos para la democracia<a class="anchor-link" href="posts/scrapping-de-pdf-con-ipython-y-pdftotext.html#Abriendo-datos-para-la-democracia">¶</a>
</h3>
<p>Uno de los requisitos fundamentales para investigar datos es tenerlos. Si bien el sitio oficial <a href="http://datospublicos.gob.ar">datospublicos.gob.ar</a> ya había publicado <a href="http://datospublicos.gob.ar/data/dataset/elecciones-2013/resource/68981df2-c831-4ba4-a7b1-b6ad84905ee9">datasets</a> oficiales de las elecciones, en el sitio <a href="http://www.resultados.gob.ar/">resultados.gob.ar</a>, donde se publicaron los telegramas en tiempo real, había más información.</p>
<p>En particular, hay una <a href="http://www.resultados.gob.ar/telegramas/telegramas/colegios/04/DDN04999.htm%20que%20tiene%20un%20dato%20muy%20interesante">sección que muestra resúmemes los resultados provisorios por distrito</a> que incluye un dato muy interesante: <strong>la hora en que fue computado</strong> cada centro de votación en el escrutinio provisorio. Lamentablemente, esa info atrapada en PDFs no es muy útil.</p>
<p>Si bien no alcazamos a utilizarlos en el evento (mi idea era agregar una línea de tiempo <a href="http://democraciaconcodigos.github.io/election-2013/">al mapa</a> para ver cómo fue evolucionando), el dia anterior del hackatón dediqué un ratito a extraer esos datos para poder computarlos.</p>
<p>Lo publico ahora porque me parece útil no sólo como ejemplo de extracción de datos desde un PDF sino sobre las posibilidades de <strong>IPython Notebook</strong> (de paso, este artículo es un notebook) como entorno de "hackeo", pudiendo utilizar Python, muchísimos otros lenguajes y  cualquier herramienta que tengamos en el sistema, de una manera integrada y fácil.</p>
<p class="more"><a href="posts/scrapping-de-pdf-con-ipython-y-pdftotext.html">Leer más…</a></p>
</div>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/lo-siento-por-vos.html" class="u-url">Lo siento por vos</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/lo-siento-por-vos.html" rel="bookmark"><time class="published dt-published" datetime="2014-05-11T22:23:44-03:00" title="11/05/14 22:23:44">11/05/14 22:23:44</time></a></p>
                <p class="commentline">            <a href="posts/lo-siento-por-vos.html#disqus_thread" data-disqus-identifier="cache/posts/lo-siento-por-vos.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>A fines de enero, apenas <a class="reference external" href="https://www.youtube.com/watch?v=95ZzSM-BlZI">volvimos de Ushuaia</a>, en la góndola de los fideos del Vea de mi barrio decidí que iba a retomar <a class="reference external" href="http://mgaitan.github.io/posts/hola-preciosa.html">Preciosa</a>. Hice un aviso en la lista de correo y <a class="reference external" href="https://twitter.com/tin_nqn_/status/425463037110124546">lo tuiteé</a>, sin esperar mucha respuesta.</p>
<p>Cuando salieron las primeras aplicaciones para "Precios Cuidados",
Luciano Ferrer me <a class="reference external" href="https://twitter.com/luuuciano/status/429027032408657920">preguntó</a> si eran lo mismo que lo que yo quería hacer. Le respondí que Preciosa era mucho más que eso, pero todavía tenía dudas sobre cómo concretarlo:</p>
<blockquote class="twitter-tweet" data-conversation="none" lang="es">
<p><a href="https://twitter.com/luuuciano">@luuuciano</a> todo eso. pero soy vago, pobre y mal reclutador de voluntarios. veremos si algun dia ve la luz... y a qué precio (cuac!)</p>— Martín Gaitán (@tin_nqn_) <a href="https://twitter.com/tin_nqn_/statuses/429032006911946753">enero 30, 2014</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><p>Tres meses después Preciosa tiene una primera versión con casi 2000 descargas, 400 usuarios activos, múltiples <a class="reference external" href="http://preciosdeargentina.com.ar/preciosa-en-los-medios">aparaciones en radio y TV</a> y muchísimas ideas y ganas para seguir creciendo.</p>
<p class="more"><a href="posts/lo-siento-por-vos.html">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/no-al-fraude-en-cordoba-nuevo-analisis.html" class="u-url">Nuevo análisis #NoAlFraudeEnCordoba</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Martín Gaitán</span></p>
            <p class="dateline"><a href="posts/no-al-fraude-en-cordoba-nuevo-analisis.html" rel="bookmark"><time class="published dt-published" datetime="2013-11-02T16:20:21-03:00" title="02/11/13 16:20:21">02/11/13 16:20:21</time></a></p>
                <p class="commentline">            <a href="posts/no-al-fraude-en-cordoba-nuevo-analisis.html#disqus_thread" data-disqus-identifier="cache/posts/noalfraudeencordoba-nuevas-listas.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>La repecursión que causó el <a class="reference external" href="http://mgaitan.github.io/posts/no-al-fraude-en-cordoba-ayudanos.html">análisis de datos para filtrar mesas estadísticamente sospechosas</a> me sorprendió totalmente.</p>
<p>Se registraron más de <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0Au9td98rqeZ0dHVqMlltQ1FzSmd0LTcxcFZwY2JYY3c&amp;usp=sharing">200 reportes de irregularidades</a>
a través del formulario y otros tantos en los comentarios de los articulo previos a que pusiera ese sistema de aviso.</p>
<p>Además, no sólo salió en los medios (para <a class="reference external" href="http://pages.citebite.com/k2l2d5g4g7qky">algunos</a> con mala leche soy "kirchnerista <em>pero</em> democrático") , sino que Liliana Olivero se comunicó conmigo para agradecerme y preguntarme si podíamos obtener más información. Hoy me reuní con integrantes del Frente de Izquierda para
hacer <a class="reference external" href="http://nbviewer.ipython.org/7281371">nuevos reportes</a>.</p>
<p class="more"><a href="posts/no-al-fraude-en-cordoba-nuevo-analisis.html">Leer más…</a></p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-9.html" rel="next">Posts anteriores</a>
            </li>
        </ul></nav><script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});</script><script src="assets/js/mathjax.js"></script><footer>
                Contents © 2015         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>
                
            </footer>
</div>
        </div>
        <!--End of body content-->


    </div>
</div>

            <script src="assets/js/bootstrap.min.js"></script><script src="assets/js/jquery.colorbox-min.js"></script><script src="assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script src="assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
